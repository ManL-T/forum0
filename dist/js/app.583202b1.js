(function(e){function t(t){for(var r,c,i=t[0],a=t[1],u=t[2],l=0,b=[];l<i.length;l++)c=i[l],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&b.push(s[c][0]),s[c]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);d&&d(t);while(b.length)b.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var a=n[i];0!==s[a]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},s={app:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=a;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"005c":function(e,t,n){},"0b2d":function(e,t,n){},"0ec4":function(e,t,n){},"1f8a":function(e,t,n){"use strict";n("8a2d")},"2a42":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),s={class:"sk-circle"},o=Object(r["h"])('<div class="sk-circle1 sk-child" data-v-a7b2ae2a></div><div class="sk-circle2 sk-child" data-v-a7b2ae2a></div><div class="sk-circle3 sk-child" data-v-a7b2ae2a></div><div class="sk-circle4 sk-child" data-v-a7b2ae2a></div><div class="sk-circle5 sk-child" data-v-a7b2ae2a></div><div class="sk-circle6 sk-child" data-v-a7b2ae2a></div><div class="sk-circle7 sk-child" data-v-a7b2ae2a></div><div class="sk-circle8 sk-child" data-v-a7b2ae2a></div><div class="sk-circle9 sk-child" data-v-a7b2ae2a></div><div class="sk-circle10 sk-child" data-v-a7b2ae2a></div><div class="sk-circle11 sk-child" data-v-a7b2ae2a></div><div class="sk-circle12 sk-child" data-v-a7b2ae2a></div>',12),c=[o];function i(e,t,n,o,i,a){return Object(r["x"])(),Object(r["f"])("div",s,c)}var a={},u=(n("72de"),n("6b0d")),d=n.n(u);const l=d()(a,[["render",i],["__scopeId","data-v-a7b2ae2a"]]);t["default"]=l},"2af4":function(e,t,n){},"30f2":function(e,t,n){},4074:function(e,t,n){"use strict";n("43c7")},"43c7":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("159b"),n("ddb0"),n("b0c0"),n("ac1f"),n("5319");var r=n("7a23"),s={class:"container"};function o(e,t,n,o,c,i){var a=Object(r["F"])("the-navbar"),u=Object(r["F"])("router-view"),d=Object(r["F"])("AppSpinner");return Object(r["x"])(),Object(r["f"])(r["a"],null,[Object(r["j"])(a),Object(r["g"])("div",s,[Object(r["R"])((Object(r["x"])(),Object(r["d"])(u,{onReady:t[0]||(t[0]=function(e){return c.showPage=!0}),key:e.$route.path})),[[r["M"],c.showPage]]),Object(r["R"])(Object(r["j"])(d,null,null,512),[[r["M"],!c.showPage]])])],64)}var c=n("5530"),i=function(e){return Object(r["A"])("data-v-3a357cf6"),e=e(),Object(r["y"])(),e},a={class:"header",id:"header"},u={class:"navbar"},d=Object(r["i"])(" Home "),l={key:0,class:"dropdown"},b={class:"dropdown-content"},f=Object(r["i"])("Profile"),p=i((function(){return Object(r["g"])("p",null,"-----",-1)})),m={key:1,class:"user-access"},h={class:"log-in"},j=Object(r["i"])("Log in"),O=i((function(){return Object(r["g"])("span",null,"|",-1)})),g={class:"sign-in"},v=Object(r["i"])("Sign up");function w(e,t,n,s,o,c){var i=Object(r["F"])("router-link");return Object(r["x"])(),Object(r["f"])("header",a,[Object(r["g"])("nav",u,[Object(r["j"])(i,{to:{name:"Home"},class:"logo"},{default:Object(r["Q"])((function(){return[d]})),_:1}),e.authUser?(Object(r["x"])(),Object(r["f"])("div",l,[Object(r["g"])("span",null,Object(r["I"])(e.authUser.username),1),Object(r["g"])("div",b,[Object(r["j"])(i,{class:"profile",to:{name:"Profile"}},{default:Object(r["Q"])((function(){return[f]})),_:1}),p,Object(r["j"])(i,{class:"sign-out",to:{name:"Home"}},{default:Object(r["Q"])((function(){return[Object(r["g"])("a",{onClick:t[0]||(t[0]=function(t){return e.$store.dispatch("auth/signOut")})},"Sign out")]})),_:1})])])):Object(r["e"])("",!0),e.authUser?Object(r["e"])("",!0):(Object(r["x"])(),Object(r["f"])("div",m,[Object(r["g"])("span",h,[Object(r["j"])(i,{to:{name:"SignIn"}},{default:Object(r["Q"])((function(){return[j]})),_:1})]),O,Object(r["g"])("span",g,[Object(r["j"])(i,{to:{name:"Register"}},{default:Object(r["Q"])((function(){return[v]})),_:1})])]))])])}var x=n("5502"),y={computed:Object(c["a"])({},Object(x["c"])("auth",["authUser"])),mounted:function(){console.log("mounted on navbar. authUser: ",this.authUser)},unmounted:function(){console.log("unmounted on navbar. authUser: ",this.authUser)}},I=(n("c50d"),n("6b0d")),k=n.n(I);const S=k()(y,[["render",w],["__scopeId","data-v-3a357cf6"]]);var U=S,R=n("2a42"),A={name:"App",components:{TheNavbar:U,AppSpinner:R["default"]},data:function(){return{showPage:!1}},methods:Object(c["a"])({},Object(x["b"])("auth",["fetchAuthUser"])),created:function(){var e=this;this.fetchAuthUser(),console.log("AuthUser from Home page after fetching: ",this.$store.state.auth.authId),this.$router.beforeEach((function(){e.showPage=!1}))}};n("59c4");const q=k()(A,[["render",o]]);var $=q,_=n("1da1"),F=(n("96cf"),n("1276"),n("99af"),n("6c02")),D=(n("7db0"),n("c740"),function(e,t){return e?e.find((function(e){return e.id===t})):null}),P=function(e,t){var n=e.findIndex((function(e){return e.id===t.id}));t.id&&-1!==n?e[n]=t:e.push(t)},V=function(e){return"function"!==typeof(null===e||void 0===e?void 0:e.data)?e:Object(c["a"])(Object(c["a"])({},e.data()),{},{id:e.id})},E={},C=(n("3ca3"),n("d81d"),n("260b")),L=(n("ea7b"),n("e71f"),C["a"]),Q={fetchItem:function(e,t){var n=e.commit,r=t.id,s=t.resource,o=t.handleUnsubscribe,i=void 0===o?null:o;return console.log("Action >> in process of fetching item, fetch from this id: ",r),new Promise((function(e){var t=L.firestore().collection(s).doc(r).onSnapshot((function(t){if(t.exists){var o=Object(c["a"])(Object(c["a"])({},t.data()),{},{id:t.id});console.log("on snapshot: ",s,t.data()),n("setItem",{resource:s,id:r,item:o}),e(o)}else e(null)}));i?i(t):n("appendUnsubscribe",{unsubscribe:t})}))},fetchItems:function(e,t){var n=e.dispatch,r=t.resource,s=t.ids;return s=s||[],console.log("the ids: ",s),Promise.all(s.map((function(e){return n("fetchItem",{id:e,resource:r})})))},unsubscribeAllSnapshots:function(e){return Object(_["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,r=e.commit,n.unsubscribes.forEach((function(e){return e()})),r("clearAllUnsubscribes");case 3:case"end":return t.stop()}}),t)})))()}},M={setItem:function(e,t){var n=t.resource,r=t.item;P(e[n].items,r)},appendUnsubscribe:function(e,t){var n=t.unsubscribe;e.unsubscribes.push(n)},clearAllUnsubscribes:function(e){e.unsubscribes=[]}},N={namespaced:!0,state:{items:[]},getters:{discussion:function(e,t,n){return function(r){console.log(t);var s=D(e.items,r);return Object(c["a"])(Object(c["a"])({},s),{},{get author(){return D(n.users.items,s.userId)}})}}},actions:{fetchDiscussion:function(e,t){var n=e.dispatch,r=t.id;return n("fetchItem",{resource:"discussions",id:r},{root:!0})},createDiscussion:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,s,o,c,i,a,u,d,l,b,f,p;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=e.state,o=e.rootState,c=t.word,i=t.definition,a=t.question,console.log("received dicussion to send to firestore: word, definition, question...",c,i,a),console.log("state from createDiscussion: ",s),u={userId:o.auth.authId,timestamp:Date.now(),word:c,definition:i,question:a},d=L.firestore().batch(),l=L.firestore().collection("discussions").doc(),b=L.firestore().collection("feeds").doc(),f=L.firestore().collection("users").doc(o.auth.authId),d.set(l,u),d.update(f,{discussions:L.firestore.FieldValue.arrayUnion(l.id)}),d.set(b,{discussion:{word:c,id:l.id},timestamp:Date.now()}),console.log("new discussion",l),console.log("newfeed: ",b),n.next=16,d.commit();case 16:r("setItem",{resource:"discussions",item:l},{root:!0}),p=o.auth.authId,r("users/appendDiscussionToUser",{userId:p,discussionId:l.id},{root:!0});case 19:case"end":return n.stop()}}),n)})))()},updateDiscussion:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,s,o,i,a,u,d,l,b,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=e.state,o=t.word,i=t.definition,a=t.question,u=t.id,d=D(s.items,u),l=Object(c["a"])(Object(c["a"])({},d),{},{word:o,definition:i,question:a}),b=L.firestore().collection("discussions").doc(u),f=L.firestore().batch(),f.update(b,l),n.next=9,f.commit();case 9:return r("setItem",{resource:"discussions",item:l},{root:!0}),n.abrupt("return",V(l));case 11:case"end":return n.stop()}}),n)})))()}},mutations:{}},T={namespaced:!0,state:{items:[]},getters:{},actions:{fetchScoops:function(e,t){var n=e.dispatch,r=t.ids;return n("fetchItems",{resource:"scoops",ids:r},{root:!0})},fetchScoop:function(e,t){var n=e.dispatch,r=t.id;return n("fetchItem",{resource:"scoops",id:r},{root:!0})},createScoop:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,s,o,c,i,a,u,d,l,b,f,p,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=e.state,o=e.rootState,c=t.discussionId,i=t.text,a={discussionId:c,text:i,timestamp:Date.now(),userId:o.auth.authId},console.log("the new scoop: ",a),console.log("the state when creating scoop: ",s),u=D(o.discussions.items,c),console.log("the scoops discussion: ",u),d=L.firestore().collection("scoops").doc(),l=L.firestore().collection("discussions").doc(u.id),b=L.firestore().collection("users").doc(o.auth.authId),f=L.firestore().collection("feeds").doc(),p=L.firestore().batch(),p.set(d,a),p.update(b,{scoopsCount:L.firestore.FieldValue.increment(1)}),p.update(l,{scoops:L.firestore.FieldValue.arrayUnion(d.id)}),p.set(f,{discussion:{word:u.word,id:u.id,timestamp:u.timestamp},latestScoop:{id:d.id,text:a.text},timestamp:Date.now()}),n.next=18,p.commit();case 18:m=o.auth.authId,r("setItem",{resource:"scoops",item:d},{root:!0}),r("users/appendScoopToUser",{userId:m,scoopId:d.id},{root:!0});case 21:case"end":return n.stop()}}),n)})))()},updateScoop:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,s,o,i,a,u,d,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=e.state,o=t.id,i=t.text,a=D(s.items,o),u=Object(c["a"])(Object(c["a"])({},a),{},{text:i}),d=L.firestore().collection("scoops").doc(o),l=L.firestore().batch(),l.update(d,u),n.next=9,l.commit();case 9:return r("setItem",{resource:"scoops",item:u},{root:!0}),n.abrupt("return",V(u));case 11:case"end":return n.stop()}}),n)})))()}},mutations:{}},W={namespaced:!0,state:{items:[]},getters:{},actions:{fetchFeeds:function(e){var t=e.commit;return new Promise((function(e){var n=L.firestore().collection("feeds").onSnapshot((function(n){var r=n.docs.map((function(e){var n=Object(c["a"])({id:e.id},e.data());return t("setItem",{resource:"feeds",item:n},{root:!0}),n}));e(r),console.log("Action >> fetchFeeds: ",r)}));t("appendUnsubscribe",{unsubscribe:n},{root:!0})}))}},mutations:{}},H=(n("4de4"),{state:{items:[]},getters:{user:function(e,t,n){return function(r){console.log("getters in user: ",t),console.log("on user getter this is the id to get the user: ",r),console.log("on user getter this is the resources to get the user: ",e.items);var s=D(e.items,r);return s?Object(c["a"])(Object(c["a"])({},s),{},{get discussions(){return n.discussions.items.filter((function(e){return e.userId===s.id}))},get scoops(){return n.scoops.items.filter((function(e){return e.userId===s.id}))}}):null}}},actions:{fetchUsers:function(e,t){var n=e.dispatch,r=t.ids;return n("fetchItems",{resource:"users",ids:r},{root:!0})},fetchUser:function(e,t){var n=e.dispatch,r=t.id;return n("fetchItem",{resource:"users",id:r},{root:!0})},createUser:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,s,o,c,i,a,u,d,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s=t.id,o=t.name,c=t.username,i=t.email,a=c.toLowerCase(),i=i.toLowerCase(),u={name:o,username:c,usernameLower:a,email:i},d=L.firestore().collection("users").doc(s),d.set(u),n.next=9,d.get();case 9:return l=n.sent,r("setItem",{resource:"users",item:l},{root:!0}),n.abrupt("return",V(l));case 12:case"end":return n.stop()}}),n)})))()},updateUser:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,s={username:t.username||null,bio:t.bio||null,location:t.location||null},o=L.firestore().collection("users").doc(t.id),n.next=5,o.update(s);case 5:r("setItem",{resource:"users",item:t},{root:!0});case 6:case"end":return n.stop()}}),n)})))()}},mutations:{appendDiscussionToUser:function(e,t){var n=t.userId,r=t.discussionId,s=D(e.items,n);s.discussions=s.discussions||[],s.discussions.push(r),console.log("discussionId gets appended into this user: ",s)},appendScoopToUser:function(e,t){var n=t.userId,r=t.scoopId,s=D(e.items,n);s.scoops=s.scoops||[],s.scoops.push(r),console.log("scoopId gets appended into this user: ",s)}}}),B={namespaced:!0,state:{authId:null,authUserUnsubscribe:null,authObserverUnsubscribe:null},getters:{authUser:function(e,t,n,r){return console.log("rootState: ",t),console.log("getters: ",n),r["user"](e.authId)}},actions:{initAuthentication:function(e){var t=e.dispatch,n=e.commit,r=e.state;if(!r.authObserverUnsubscribe)return new Promise((function(e){var r=L.auth().onAuthStateChanged(function(){var n=Object(_["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("the user has changed. User: ",r),t("unsubscribeAuthUserSnapshot"),!r){n.next=8;break}return n.next=5,t("fetchAuthUser");case 5:e(r),n.next=9;break;case 8:e(null);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());n("setAuthObserverUnsubscribe",r)}))},fetchAuthUser:function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t){var n,r,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.dispatch,s=t.state,o=t.commit,c=null===(n=L.auth().currentUser)||void 0===n?void 0:n.uid,c){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,r("fetchItem",{resource:"users",id:c,handleUnsubscribe:function(e){o("setAuthUserUnsubscribe",e)}},{root:!0});case 6:o("setAuthId",c),console.log("using state to get authId: ",s.authId);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),registerUserWithEmailAndPassword:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,s,o,c,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,s=t.email,o=t.name,c=t.username,i=t.password,n.next=4,L.auth().createUserWithEmailAndPassword(s,i);case 4:return a=n.sent,n.next=7,r("users/createUser",{id:a.user.uid,email:s,name:o,username:c});case 7:return console.log("dispatching fetchAuthUser"),n.next=10,r("fetchAuthUser");case 10:case"end":return n.stop()}}),n)})))()},signInWithEmailAndPassword:function(e,t){return Object(_["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.abrupt("return",L.auth().signInWithEmailAndPassword(n,r));case 2:case"end":return e.stop()}}),e)})))()},signOut:function(e){return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,L.auth().signOut();case 3:n("setAuthId",null);case 4:case"end":return t.stop()}}),t)})))()},unsubscribeAuthUserSnapshot:function(e){return Object(_["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.state,r=e.commit,n.authUnsubscribe&&(n.authUserUnsubscribe(),r("setAuthUserUnsubscribe",null));case 2:case"end":return t.stop()}}),t)})))()}},mutations:{setAuthId:function(e,t){console.log("setting mutation authId to logged in user with id: ",t),e.authId=t,console.log("authId: ",e.authId)},setAuthUserUnsubscribe:function(e,t){e.authUserUnsubscribe=t},setAuthObserverUnsubscribe:function(e,t){e.authObserverUnsubscribe=t}}},z=Object(x["a"])({modules:{discussions:N,scoops:T,feeds:W,users:H,auth:B},state:{unsubscribes:[]},getters:E,actions:Q,mutations:M}),G=(n("4e82"),function(e){return Object(r["A"])("data-v-a32d1570"),e=e(),Object(r["y"])(),e}),J={class:"home"},K={class:"add-button"},X=G((function(){return Object(r["g"])("h1",null,"+",-1)})),Y={key:0,class:"feeds"};function Z(e,t,n,s,o,c){var i=Object(r["F"])("router-link"),a=Object(r["F"])("feed-card");return Object(r["x"])(),Object(r["f"])("div",J,[Object(r["g"])("div",K,[Object(r["j"])(i,{to:{name:"DiscussionNew"}},{default:Object(r["Q"])((function(){return[X]})),_:1})]),c.feeds?(Object(r["x"])(),Object(r["f"])("div",Y,[(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["E"])(c.feeds.sort((function(e,t){return t.timestamp-e.timestamp})),(function(e){return Object(r["x"])(),Object(r["f"])("div",{class:"discussions",key:e.id},[Object(r["j"])(a,{feed:e},null,8,["feed"])])})),128))])):Object(r["e"])("",!0)])}var ee={key:0,class:"feed"},te={key:0,class:"has-scoop"},ne={key:1,class:"no-scoops"},re=Object(r["g"])("h3",null,"No scoops yet, add one yourself",-1),se=[re];function oe(e,t,n,s,o,c){var i=Object(r["F"])("router-link");return n.feed?(Object(r["x"])(),Object(r["f"])("li",ee,[Object(r["j"])(i,{to:{name:"DiscussionPage",params:{id:n.feed.discussion.id}}},{default:Object(r["Q"])((function(){return[Object(r["g"])("h2",null,Object(r["I"])(n.feed.discussion.word),1),n.feed.latestScoop?(Object(r["x"])(),Object(r["f"])("div",te,[Object(r["g"])("h3",null,Object(r["I"])(n.feed.latestScoop.text),1)])):(Object(r["x"])(),Object(r["f"])("div",ne,se))]})),_:1},8,["to"])])):Object(r["e"])("",!0)}var ce={props:{feed:{required:!0,type:Object}}};const ie=k()(ce,[["render",oe]]);var ae=ie,ue={components:{FeedCard:ae},computed:{feeds:function(){return this.$store.state.feeds.items}},created:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("feeds/fetchFeeds");case 2:e.$emit("ready");case 3:case"end":return t.stop()}}),t)})))()}};n("d8a2");const de=k()(ue,[["render",Z],["__scopeId","data-v-a32d1570"]]);var le=de,be={class:"col-full text-center"},fe=Object(r["g"])("h1",null,"Not Found",-1),pe=Object(r["i"])("We can't find the page you are looking for");function me(e,t,n,s,o,c){var i=Object(r["F"])("router-link");return Object(r["x"])(),Object(r["f"])("div",be,[fe,Object(r["j"])(i,{to:{name:"Home"}},{default:Object(r["Q"])((function(){return[pe]})),_:1})])}var he={created:function(){this.$emit("ready")}};const je=k()(he,[["render",me]]);var Oe=je,ge=function(e){return Object(r["A"])("data-v-0eeb08d6"),e=e(),Object(r["y"])(),e},ve={class:"discussion-page"},we={class:"back-home"},xe=ge((function(){return Object(r["g"])("svg",{class:"svg-icon",viewBox:"0 0 20 20"},[Object(r["g"])("path",{fill:"none",d:"M8.388,10.049l4.76-4.873c0.303-0.31,0.297-0.804-0.012-1.105c-0.309-0.304-0.803-0.293-1.105,0.012L6.726,9.516c-0.303,0.31-0.296,0.805,0.012,1.105l5.433,5.307c0.152,0.148,0.35,0.223,0.547,0.223c0.203,0,0.406-0.08,0.559-0.236c0.303-0.309,0.295-0.803-0.012-1.104L8.388,10.049z"})],-1)})),ye={class:"container"},Ie={key:0,class:"discussion"},ke={key:1,class:"no-discussions"},Se={key:2,class:"the-scoops"},Ue={key:3,class:"no-scoops"},Re=ge((function(){return Object(r["g"])("h3",null,"No Scoops yet!",-1)})),Ae=ge((function(){return Object(r["g"])("h4",null,"Do you have information about this word's origins to share?",-1)})),qe=[Re,Ae],$e=ge((function(){return Object(r["g"])("br",null,null,-1)})),_e=ge((function(){return Object(r["g"])("h4",null," Add a Scoop",-1)}));function Fe(e,t,n,s,o,c){var i=Object(r["F"])("router-link"),a=Object(r["F"])("DiscussionCard"),u=Object(r["F"])("ScoopCard");return Object(r["x"])(),Object(r["f"])("div",ve,[Object(r["g"])("div",we,[Object(r["j"])(i,{to:{name:"Home"}},{default:Object(r["Q"])((function(){return[xe]})),_:1})]),Object(r["g"])("div",ye,[c.discussion?(Object(r["x"])(),Object(r["f"])("div",Ie,[Object(r["j"])(a,{discussion:c.discussion},null,8,["discussion"])])):(Object(r["x"])(),Object(r["f"])("div",ke,"Error, this discussion does not exist anymore")),c.pertinentScoops?(Object(r["x"])(),Object(r["f"])("div",Se,[(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["E"])(c.pertinentScoops,(function(e){return Object(r["x"])(),Object(r["f"])("div",{key:e.id,class:"scoops-list"},[Object(r["j"])(u,{scoop:e},null,8,["scoop"])])})),128))])):Object(r["e"])("",!0),0==c.pertinentScoops.length?(Object(r["x"])(),Object(r["f"])("div",Ue,qe)):Object(r["e"])("",!0),$e,Object(r["g"])("button",null,[Object(r["j"])(i,{to:{name:"ScoopNew",params:{id:this.id}}},{default:Object(r["Q"])((function(){return[_e]})),_:1},8,["to"])])])])}var De={class:"dicussion-card"},Pe={class:"discussion-header"},Ve={key:0},Ee=Object(r["i"])(" Edit Discussion "),Ce={key:1,class:"definitions-list"},Le=Object(r["g"])("p",null,"Definition/s:",-1),Qe={key:2,class:"questions-list"},Me=Object(r["g"])("p",null,"Question:",-1),Ne={class:"author"};function Te(e,t,n,s,o,c){var i,a,u=Object(r["F"])("router-link");return Object(r["x"])(),Object(r["f"])("div",De,[Object(r["g"])("div",Pe,[n.discussion.userId===(null===(i=e.authUser)||void 0===i?void 0:i.id)?(Object(r["x"])(),Object(r["f"])("h5",Ve,[Object(r["j"])(u,{to:{name:"DiscussionEdit",params:{id:this.discussion.id}},class:"btn-green btn-small",tag:"button"},{default:Object(r["Q"])((function(){return[Ee]})),_:1},8,["to"])])):Object(r["e"])("",!0),Object(r["g"])("h1",null,Object(r["I"])(n.discussion.word),1),n.discussion.definition?(Object(r["x"])(),Object(r["f"])("div",Ce,[Le,Object(r["g"])("p",null,Object(r["I"])(n.discussion.definition),1)])):Object(r["e"])("",!0),n.discussion.question?(Object(r["x"])(),Object(r["f"])("div",Qe,[Me,Object(r["g"])("p",null,Object(r["I"])(n.discussion.question),1)])):Object(r["e"])("",!0),Object(r["g"])("div",Ne,[Object(r["g"])("h5",null,Object(r["I"])(null===(a=n.discussion.author)||void 0===a?void 0:a.username),1)])])])}var We={props:{discussion:{required:!0,type:Object}},computed:Object(c["a"])({},Object(x["c"])("auth",["authUser"]))};const He=k()(We,[["render",Te]]);var Be=He,ze={class:"scoop-card"},Ge=Object(r["g"])("br",null,null,-1),Je=Object(r["g"])("br",null,null,-1),Ke={key:0},Xe=Object(r["i"])(" Edit Scoop ");function Ye(e,t,n,s,o,c){var i,a,u=Object(r["F"])("router-link");return Object(r["x"])(),Object(r["f"])("div",ze,[Object(r["i"])(Object(r["I"])(n.scoop.text)+" ",1),Ge,Je,Object(r["i"])(" "+Object(r["I"])(null===(i=c.user)||void 0===i?void 0:i.username)+" ",1),n.scoop.userId===(null===(a=e.authUser)||void 0===a?void 0:a.id)?(Object(r["x"])(),Object(r["f"])("h5",Ke,[Object(r["j"])(u,{to:{name:"ScoopEdit",params:{id:this.scoop.id}},class:"btn-green btn-small",tag:"button"},{default:Object(r["Q"])((function(){return[Xe]})),_:1},8,["to"])])):Object(r["e"])("",!0)])}var Ze={props:{scoop:{required:!0,type:Object}},computed:Object(c["a"])(Object(c["a"])({},Object(x["c"])("auth",["authUser"])),{},{user:function(){return D(this.$store.state.users.items,this.scoop.userId)}})};const et=k()(Ze,[["render",Ye]]);var tt=et,nt={components:{DiscussionCard:Be,ScoopCard:tt},props:{id:{required:!0,type:String}},beforeCreate:function(){console.log("receiving this id as prop: ",this.id)},created:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("discussions/fetchDiscussion",{id:e.id});case 2:return n=t.sent,console.log("discussion as fetched in DiscussionPage: ",n),e.$emit("ready"),t.next=7,e.$store.dispatch("scoops/fetchScoops",{ids:n.scoops});case 7:r=t.sent,console.log("fetching user of id: ",e.id),e.$store.dispatch("fetchUser",{discussionId:e.id}),s=r.map((function(e){return e.userId})),e.$store.dispatch("fetchUsers",{ids:s});case 12:case"end":return t.stop()}}),t)})))()},computed:{discussions:function(){return this.$store.state.discussions.items},discussion:function(){return console.log("discussions.items: ",this.discussions),D(this.discussions,this.id)},allScoops:function(){return console.log("the scoops.items: ",this.$store.state.scoops),this.$store.state.scoops.items},pertinentScoops:function(){var e=this;return this.allScoops.filter((function(t){return t.discussionId===e.id}))}}};n("68e5");const rt=k()(nt,[["render",Fe],["__scopeId","data-v-0eeb08d6"]]);var st=rt,ot={class:"new-discussion"},ct=Object(r["g"])("br",null,null,-1),it=Object(r["g"])("label",{for:"word"},"Add a new word:",-1),at=Object(r["g"])("br",null,null,-1),ut=Object(r["g"])("br",null,null,-1),dt=Object(r["g"])("br",null,null,-1),lt=Object(r["g"])("label",{for:"definition"},"Add any pertinent definitions:",-1),bt=Object(r["g"])("br",null,null,-1),ft=Object(r["g"])("br",null,null,-1),pt=Object(r["g"])("label",{for:"question"},"Add a pertinent question:",-1),mt=Object(r["g"])("br",null,null,-1),ht=Object(r["g"])("br",null,null,-1),jt=Object(r["g"])("button",null,"Add Word",-1);function Ot(e,t,n,s,o,c){return Object(r["x"])(),Object(r["f"])("div",ot,[Object(r["g"])("form",{onSubmit:t[3]||(t[3]=Object(r["S"])((function(){return c.saveDiscussion&&c.saveDiscussion.apply(c,arguments)}),["prevent"]))},[ct,it,at,Object(r["R"])(Object(r["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.word=e})},null,512),[[r["L"],o.word]]),ut,dt,lt,bt,Object(r["R"])(Object(r["g"])("textarea",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.definition=e})},null,512),[[r["L"],o.definition]]),ft,pt,mt,Object(r["R"])(Object(r["g"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.question=e})},null,512),[[r["L"],o.question]]),ht,jt],32)])}var gt={data:function(){return{word:"",definition:"",question:""}},created:function(){this.$emit("ready")},methods:{saveDiscussion:function(){var e={word:this.word,definition:this.definition,question:this.question};this.$store.dispatch("discussions/createDiscussion",{word:e.word,definition:e.definition,question:e.question}),this.word="",this.definition="",this.question="",this.$router.push("/")}}};const vt=k()(gt,[["render",Ot]]);var wt=vt,xt={class:"discussion-edit"},yt={key:0,class:"scoop-edit"};function It(e,t,n,s,o,c){var i=Object(r["F"])("DiscussionEditor");return Object(r["x"])(),Object(r["f"])("div",xt,[c.discussion?(Object(r["x"])(),Object(r["f"])("div",yt,[Object(r["g"])("h1",null,'Editing the discussion "'+Object(r["I"])(c.discussion.word)+'"',1),Object(r["j"])(i,{word:c.discussion.word,definition:c.discussion.definition,question:c.discussion.question,onSave:c.save,onCancel:c.cancel},null,8,["word","definition","question","onSave","onCancel"])])):Object(r["e"])("",!0)])}var kt={class:"discussion-editor"},St=Object(r["g"])("h1",null,"Discussion Editor",-1),Ut=Object(r["g"])("label",{for:"word"},"Add a new word:",-1),Rt=Object(r["g"])("br",null,null,-1),At=Object(r["g"])("br",null,null,-1),qt=Object(r["g"])("br",null,null,-1),$t=Object(r["g"])("label",{for:"definitions"},"Add any pertinent definitions:",-1),_t=Object(r["g"])("br",null,null,-1),Ft=Object(r["g"])("br",null,null,-1),Dt=Object(r["g"])("label",{for:"questions"},"A pertinent question:",-1),Pt=Object(r["g"])("br",null,null,-1),Vt=Object(r["g"])("br",null,null,-1),Et=Object(r["g"])("button",{class:"save",type:"submit"},"Save",-1);function Ct(e,t,n,s,o,c){return Object(r["x"])(),Object(r["f"])("div",kt,[St,Object(r["g"])("form",{onSubmit:t[4]||(t[4]=Object(r["S"])((function(){return c.save&&c.save.apply(c,arguments)}),["prevent"]))},[Ut,Rt,Object(r["R"])(Object(r["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.form.word=e})},null,512),[[r["L"],o.form.word]]),At,qt,$t,_t,Object(r["R"])(Object(r["g"])("textarea",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.form.definition=e})},null,512),[[r["L"],o.form.definition]]),Ft,Dt,Pt,Object(r["R"])(Object(r["g"])("textarea",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.form.question=e})},null,512),[[r["L"],o.form.question]]),Vt,Object(r["g"])("button",{onClick:t[3]||(t[3]=Object(r["S"])((function(t){return e.$emit("cancel")}),["prevent"])),class:"cancel"},"Cancel"),Et],32)])}var Lt={props:{word:{type:String,default:""},definition:{type:String,default:""},question:{type:String,default:""}},data:function(){return{form:{word:this.word,definition:this.definition,question:this.question}}},methods:{save:function(){this.$emit("save",Object(c["a"])({},this.form))}}};const Qt=k()(Lt,[["render",Ct]]);var Mt=Qt,Nt={components:{DiscussionEditor:Mt},props:{id:{type:String,required:!0}},created:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("discussions/fetchDiscussion",{id:e.id});case 2:e.$emit("ready");case 3:case"end":return t.stop()}}),t)})))()},computed:{discussions:function(){return this.$store.state.discussions.items},discussion:function(){return D(this.discussions,this.id)}},methods:{save:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.word,s=e.definition,o=e.question,n.next=3,t.$store.dispatch("discussions/updateDiscussion",{id:t.id,word:r,definition:s,question:o});case 3:t.$router.push({name:"DiscussionPage",params:{id:t.id}});case 4:case"end":return n.stop()}}),n)})))()},cancel:function(){this.$router.push({name:"DiscussionPage",params:{id:this.id}})}}};const Tt=k()(Nt,[["render",It]]);var Wt=Tt,Ht=function(e){return Object(r["A"])("data-v-6bfd85e5"),e=e(),Object(r["y"])(),e},Bt={class:"register"},zt=Ht((function(){return Object(r["g"])("h1",null,"Create an account",-1)})),Gt=Ht((function(){return Object(r["g"])("div",{class:"form-actions"},[Object(r["g"])("button",{type:"submit",class:"submit"},"Register")],-1)}));function Jt(e,t,n,s,o,c){var i=Object(r["F"])("AppFormField"),a=Object(r["F"])("VeeForm");return Object(r["x"])(),Object(r["f"])("div",Bt,[zt,Object(r["j"])(a,{onSubmit:c.register,class:"card card-form"},{default:Object(r["Q"])((function(){return[Object(r["j"])(i,{modelValue:o.form.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.form.name=e}),name:"name",label:"Name",rules:"required"},null,8,["modelValue"]),Object(r["j"])(i,{modelValue:o.form.username,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.form.username=e}),name:"username",label:"Username",rules:"required|unique:users,username"},null,8,["modelValue"]),Object(r["j"])(i,{modelValue:o.form.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.form.email=e}),name:"email",label:"Email",rules:"required|email|unique:users,email",type:"email"},null,8,["modelValue"]),Object(r["j"])(i,{modelValue:o.form.password,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.form.password=e}),name:"password",label:"Password",rules:"required|min:8",type:"password"},null,8,["modelValue"]),Gt]})),_:1},8,["onSubmit"])])}var Kt={data:function(){return{form:{name:"",username:"",email:"",password:""}}},methods:{register:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("auth/registerUserWithEmailAndPassword",e.form);case 2:e.$router.push("/");case 3:case"end":return t.stop()}}),t)})))()}},created:function(){this.$emit("ready")}};n("1f8a");const Xt=k()(Kt,[["render",Jt],["__scopeId","data-v-6bfd85e5"]]);var Yt=Xt,Zt=function(e){return Object(r["A"])("data-v-4a182fc8"),e=e(),Object(r["y"])(),e},en={class:"sign-in"},tn=Zt((function(){return Object(r["g"])("h1",{class:"text-center"},"Login",-1)})),nn=Zt((function(){return Object(r["g"])("div",{class:"push-top"},[Object(r["g"])("button",{type:"submit",class:"btn-blue btn-block"},"Log in")],-1)})),rn={class:"form-actions text-right"},sn=Object(r["i"])("Create an account?");function on(e,t,n,s,o,c){var i=Object(r["F"])("AppFormField"),a=Object(r["F"])("router-link"),u=Object(r["F"])("VeeForm");return Object(r["x"])(),Object(r["f"])("div",en,[Object(r["j"])(u,{onSubmit:c.signIn,class:"card card-form"},{default:Object(r["Q"])((function(){return[tn,Object(r["j"])(i,{label:"Email",name:"email",type:"email",modelValue:o.form.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.form.email=e}),rules:"required|email"},null,8,["modelValue"]),Object(r["j"])(i,{label:"Password",name:"password",type:"password",modelValue:o.form.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.form.password=e}),rules:"required"},null,8,["modelValue"]),nn,Object(r["g"])("div",rn,[Object(r["j"])(a,{to:{name:"Register"}},{default:Object(r["Q"])((function(){return[sn]})),_:1})])]})),_:1},8,["onSubmit"])])}var cn={data:function(){return{form:{email:"",password:""}}},methods:{signIn:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("auth/signInWithEmailAndPassword",Object(c["a"])({},e.form));case 3:console.log("from signIn method after dispatching the action. This is the form submitted: ",e.form),e.$router.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),alert(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},created:function(){this.$emit("ready")}};n("841f");const an=k()(cn,[["render",on],["__scopeId","data-v-4a182fc8"]]);var un=an,dn={key:0,class:"scoop-new"},ln=Object(r["g"])("label",{for:"scoop-text"},"Add text for this scoop",-1),bn=Object(r["g"])("br",null,null,-1),fn=Object(r["g"])("br",null,null,-1),pn=Object(r["g"])("button",null,"Add your scoop",-1);function mn(e,t,n,s,o,c){return c.discussion?(Object(r["x"])(),Object(r["f"])("div",dn,[Object(r["g"])("h1",null,"Add a new scoop for "+Object(r["I"])(c.discussion.word),1),Object(r["g"])("form",{onSubmit:t[1]||(t[1]=Object(r["S"])((function(){return c.addScoop&&c.addScoop.apply(c,arguments)}),["prevent"]))},[ln,bn,Object(r["R"])(Object(r["g"])("textarea",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.text=e})},null,512),[[r["L"],o.text]]),fn,pn],32)])):Object(r["e"])("",!0)}var hn={props:{id:{required:!0,type:String}},created:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("discussions/fetchDiscussion",{id:e.id});case 2:e.$emit("ready");case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{text:""}},methods:{addScoop:function(){var e={text:this.text,discussionId:this.id};this.$store.dispatch("scoops/createScoop",e),this.text="",this.$router.push("/")}},computed:{discussions:function(){return this.$store.state.discussions.items},discussion:function(){return console.log("the discussions from scoopNew page: ",this.discussions),D(this.discussions,this.id)}}};const jn=k()(hn,[["render",mn]]);var On=jn,gn={key:0,class:"scoop-edit"};function vn(e,t,n,s,o,c){var i=Object(r["F"])("ScoopEditor");return c.scoop?(Object(r["x"])(),Object(r["f"])("div",gn,[Object(r["g"])("h1",null,'Editing the scoop "'+Object(r["I"])(c.scoop.text)+'"',1),Object(r["j"])(i,{text:c.scoop.text,onSave:c.save,onCancel:c.cancel},null,8,["text","onSave","onCancel"])])):Object(r["e"])("",!0)}var wn={class:"scoop-editor"},xn=Object(r["g"])("label",{for:"scoop-text"},"Scoop's text:",-1),yn=Object(r["g"])("br",null,null,-1),In=Object(r["g"])("br",null,null,-1),kn=Object(r["g"])("button",{class:"save",type:"submit"},"Save",-1);function Sn(e,t,n,s,o,c){return Object(r["x"])(),Object(r["f"])("div",wn,[Object(r["g"])("form",{onSubmit:t[2]||(t[2]=Object(r["S"])((function(){return c.save&&c.save.apply(c,arguments)}),["prevent"]))},[xn,yn,Object(r["R"])(Object(r["g"])("textarea",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.form.text=e})},null,512),[[r["L"],o.form.text]]),In,Object(r["g"])("button",{onClick:t[1]||(t[1]=Object(r["S"])((function(t){return e.$emit("cancel")}),["prevent"])),class:"cancel"},"Cancel"),kn],32)])}var Un={props:{text:{type:String,default:""}},data:function(){return{form:{text:this.text}}},methods:{save:function(){this.$emit("save",Object(c["a"])({},this.form))}}};const Rn=k()(Un,[["render",Sn]]);var An=Rn,qn={components:{ScoopEditor:An},props:{id:{required:!0,type:String}},created:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("scoops/fetchScoop",{id:e.id});case 2:n=t.sent,e.$emit("ready"),console.log("scoop as fetched in ScoopEdit: ",n);case 5:case"end":return t.stop()}}),t)})))()},computed:{scoops:function(){return console.log("the scoops: ",this.$store.state.scoops.items),this.$store.state.scoops.items},scoop:function(){return D(this.scoops,this.id)}},methods:{save:function(e){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.text,n.next=3,t.$store.dispatch("scoops/updateScoop",{id:t.id,text:r});case 3:t.$router.push({name:"DiscussionPage",params:{id:t.scoop.discussionId}});case 4:case"end":return n.stop()}}),n)})))()},cancel:function(){this.$router.push({name:"DiscussionPage",params:{id:this.scoop.discussionId}})}}};const $n=k()(qn,[["render",vn]]);var _n=$n,Fn=function(e){return Object(r["A"])("data-v-a8eac7b8"),e=e(),Object(r["y"])(),e},Dn={class:"profile-page"},Pn=Fn((function(){return Object(r["g"])("h5",null,"Profile page",-1)})),Vn={class:"profile-card"};function En(e,t,n,s,o,c){var i=Object(r["F"])("ProfileCard"),a=Object(r["F"])("ProfileCardEditor");return Object(r["x"])(),Object(r["f"])("div",Dn,[Pn,Object(r["g"])("div",Vn,[n.edit?(Object(r["x"])(),Object(r["d"])(a,{key:1,user:e.user},null,8,["user"])):(Object(r["x"])(),Object(r["d"])(i,{key:0,user:e.user},null,8,["user"]))])])}var Cn=function(e){return Object(r["A"])("data-v-79e36d5a"),e=e(),Object(r["y"])(),e},Ln={key:0,class:"profile-card"},Qn=Cn((function(){return Object(r["g"])("br",null,null,-1)})),Mn={class:"stats"},Nn=Object(r["i"])(" Stats: "),Tn=Object(r["i"])(" Edit Profile ");function Wn(e,t,n,s,o,c){var i=Object(r["F"])("router-link");return n.user?(Object(r["x"])(),Object(r["f"])("div",Ln,[Qn,Object(r["g"])("p",null,"Username: "+Object(r["I"])(n.user.username),1),Object(r["g"])("p",null,"Bio: "+Object(r["I"])(n.user.bio),1),Object(r["g"])("div",Mn,[Object(r["g"])("p",null,[Nn,Object(r["g"])("span",null,Object(r["I"])(n.user.discussions.length)+" discussion/s",1),Object(r["g"])("span",null,Object(r["I"])(n.user.scoopsCount)+" scoop/s",1)])]),Object(r["g"])("p",null,"Email: "+Object(r["I"])(n.user.email),1),Object(r["g"])("p",null,"Location: "+Object(r["I"])(n.user.location),1),Object(r["j"])(i,{to:{name:"ProfileEdit"},class:"edit-button"},{default:Object(r["Q"])((function(){return[Tn]})),_:1})])):Object(r["e"])("",!0)}var Hn={props:{user:{type:Object,required:!0}},computed:{discussions:function(){return this.user.discussions.items},scoops:function(){return this.user.scoops.items}}};n("8ba6");const Bn=k()(Hn,[["render",Wn],["__scopeId","data-v-79e36d5a"]]);var zn=Bn,Gn=function(e){return Object(r["A"])("data-v-8ccb417c"),e=e(),Object(r["y"])(),e},Jn={key:0,class:"profile-card"},Kn={class:"form-group"},Xn=Gn((function(){return Object(r["g"])("label",{for:"user_name"},"Username:",-1)})),Yn={class:"form-group"},Zn=Gn((function(){return Object(r["g"])("label",{for:"user_bio"},"Bio:",-1)})),er={class:"form-group"},tr=Gn((function(){return Object(r["g"])("label",{class:"form-label",for:"user_location"},"Location:",-1)})),nr={class:"actions"},rr=Gn((function(){return Object(r["g"])("button",{type:"submit",class:"submit"},"Save",-1)}));function sr(e,t,n,s,o,c){return o.activeUser?(Object(r["x"])(),Object(r["f"])("div",Jn,[Object(r["g"])("form",{onSubmit:t[4]||(t[4]=Object(r["S"])((function(){return c.save&&c.save.apply(c,arguments)}),["prevent"]))},[Object(r["g"])("div",Kn,[Object(r["g"])("p",null,[Xn,Object(r["R"])(Object(r["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.activeUser.username=e}),type:"text",placeholder:"Username",class:"username"},null,512),[[r["L"],o.activeUser.username]])])]),Object(r["g"])("div",Yn,[Zn,Object(r["R"])(Object(r["g"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.activeUser.bio=e}),class:"form-input",rows:"5",id:"user_bio",placeholder:"Write a few words about yourself."},null,512),[[r["L"],o.activeUser.bio]])]),Object(r["g"])("div",er,[Object(r["g"])("p",null,[tr,Object(r["R"])(Object(r["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.activeUser.location=e}),autocomplete:"off",class:"form-input",id:"user_location"},null,512),[[r["L"],o.activeUser.location]])])]),Object(r["g"])("div",nr,[Object(r["g"])("button",{class:"cancel",onClick:t[3]||(t[3]=function(){return c.cancel&&c.cancel.apply(c,arguments)})},"Cancel"),rr])],32)])):Object(r["e"])("",!0)}var or={props:{user:{type:Object,required:!0}},data:function(){return{activeUser:Object(c["a"])({},this.user)}},methods:{save:function(){this.$store.dispatch("updateUser",Object(c["a"])({},this.activeUser)),this.$router.push({name:"Profile"})},cancel:function(){this.$router.push({name:"Profile"})}}};n("a29a");const cr=k()(or,[["render",sr],["__scopeId","data-v-8ccb417c"]]);var ir=cr,ar={data:function(){return{asyncDataStatus_ready:!1}},methods:{asyncDataStatus_fetched:function(){this.asyncDataStatus_ready=!0,this.$emit("ready")}}},ur={components:{ProfileCard:zn,ProfileCardEditor:ir},mixins:[ar],props:{edit:{type:Boolean,default:!1}},computed:Object(c["a"])({},Object(x["c"])("auth",{user:"authUser"})),created:function(){this.$emit("ready")}};n("4074");const dr=k()(ur,[["render",En],["__scopeId","data-v-a8eac7b8"]]);var lr=dr,br=[{path:"/",name:"Home",component:le},{path:"/discussion-page/:id",name:"DiscussionPage",component:st,props:!0,beforeEnter:function(e,t,n){return Object(_["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z.dispatch("discussions/fetchDiscussion",{id:e.params.id});case 2:if(r=D(z.state.discussions.items,e.params.id),!r){t.next=7;break}return t.abrupt("return",n());case 7:console.log("discussion does NOT EXIST"),n({name:"NotFound",params:{pathMatch:e.path.substring(1).split("/")},query:e.query,hash:e.hash});case 9:case"end":return t.stop()}}),t)})))()}},{path:"/discussion-new",name:"DiscussionNew",component:wt,meta:{requiresAuth:!0}},{path:"/discussion-edit/:id",name:"DiscussionEdit",component:Wt,props:!0},{path:"/scoop-new/:id",name:"ScoopNew",component:On,props:!0,meta:{requiresAuth:!0}},{path:"/scoop-edit/:id",name:"ScoopEdit",component:_n,props:!0},{path:"/register",name:"Register",component:Yt,meta:{requiresGuest:!0}},{path:"/signin",name:"SignIn",component:un,meta:{requiresGuest:!0}},{path:"/me",name:"Profile",component:lr,meta:{toTop:!0,smoothScroll:!0,requiresAuth:!0}},{path:"/me/edit",name:"ProfileEdit",component:lr,props:{edit:!0},meta:{requiresAuth:!0}},{path:"/logout",name:"SignOut",beforeEnter:function(){return Object(_["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z.dispatch("auth/signOut");case 2:return e.abrupt("return",{name:"Home"});case 3:case"end":return e.stop()}}),e)})))()}},{path:"/:pathMatch(.*)*",name:"NotFound",component:Oe}],fr=Object(F["a"])({history:Object(F["b"])(),routes:br,scrollBehavior:function(e){var t={};return e.meta.toTop&&(t.top=0),e.meta.smoothScroll&&(t.behavior="smooth"),t}});fr.beforeEach(function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,z.dispatch("auth/initAuthentication");case 2:if(console.log("navigating to ".concat(t.name," from ").concat(n.name)),console.log("authId is: ",z.state.auth.authId),z.dispatch("unsubscribeAllSnapshots"),!t.meta.requiresAuth||z.state.auth.authId){e.next=7;break}return e.abrupt("return",{name:"SignIn"});case 7:if(!t.meta.requiresGuest||!z.state.auth.authId){e.next=9;break}return e.abrupt("return",{name:"Home"});case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var pr=fr,mr=n("d940"),hr=n.n(mr),jr=n("3835"),Or=n("7bb1"),gr=n("3aa8"),vr=n("cbdf"),wr=function(e){Object(Or["e"])("required",gr["c"]),Object(Or["e"])("email",gr["a"]),Object(Or["e"])("min",gr["b"]),Object(Or["e"])("unique",function(){var e=Object(_["a"])(regeneratorRuntime.mark((function e(t,n){var r,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Array.isArray(n)?(o=Object(jr["a"])(n,2),r=o[0],s=o[1]):(r=n.collection,s=n.field),e.next=3,L.firestore().collection(r).where(s,"==",t).get();case 3:return c=e.sent,e.abrupt("return",c.empty);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Object(Or["d"])({generateMessage:Object(vr["a"])("en",{messages:{required:"{field} is required",email:"{field} must be a valid email",min:"{field} must be 0:{min} characters long",unique:"{field} is already taken"}})}),e.component("VeeForm",Or["c"]),e.component("VeeField",Or["b"]),e.component("VeeErrorMessage",Or["a"])};L.initializeApp(hr.a);var xr=Object(r["c"])($);xr.use(pr),xr.use(z),xr.use(wr);var yr=n("d1be");yr.keys().forEach((function(e){var t=yr(e);t=t.default||t;var n=t.name||e.replace(/^.+\//,"").replace(/\.\w+$/,"");xr.component(n,t)})),xr.mount("#app")},"59c4":function(e,t,n){"use strict";n("841e")},"68e5":function(e,t,n){"use strict";n("8139")},"72de":function(e,t,n){"use strict";n("2af4")},8139:function(e,t,n){},"841e":function(e,t,n){},"841f":function(e,t,n){"use strict";n("bd81")},"8a2d":function(e,t,n){},"8ba6":function(e,t,n){"use strict";n("0ec4")},a29a:function(e,t,n){"use strict";n("0b2d")},a38a:function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),s={class:"form-group"},o=["for"];function c(e,t,n,c,i,a){var u=Object(r["F"])("VeeField"),d=Object(r["F"])("VeeErrorMessage");return Object(r["x"])(),Object(r["f"])("div",s,[Object(r["g"])("label",{for:n.name},Object(r["I"])(n.label),9,o),Object(r["j"])(u,Object(r["q"])({name:n.name,label:n.label,modelValue:n.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("modelUpdate",t)}),id:n.name,class:"form-input"},e.$attrs),null,16,["name","label","modelValue","id"]),Object(r["j"])(d,{name:n.name,class:"form-error"},null,8,["name"])])}var i={inheritAttrs:!1,props:{name:{type:String,required:!0},label:{type:String,default:""},modelValue:{type:String,default:""}}},a=(n("f7ae"),n("6b0d")),u=n.n(a);const d=u()(i,[["render",c]]);t["default"]=d},bd81:function(e,t,n){},c50d:function(e,t,n){"use strict";n("30f2")},d1be:function(e,t,n){var r={"./AppFormField.vue":"a38a","./AppSpinner.vue":"2a42"};function s(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=o,e.exports=s,s.id="d1be"},d8a2:function(e,t,n){"use strict";n("005c")},d940:function(e,t){e.exports={apiKey:"AIzaSyC_w5TRuCIS4MF0x51-Q1OjJFhMrADpW7Y",authDomain:"ingo-46d66.firebaseapp.com",projectId:"ingo-46d66",storageBucket:"ingo-46d66.appspot.com",messagingSenderId:"693847482117",appId:"1:693847482117:web:a06ca2def34587324da16c"}},ed5b:function(e,t,n){},f7ae:function(e,t,n){"use strict";n("ed5b")}});
//# sourceMappingURL=app.583202b1.js.map
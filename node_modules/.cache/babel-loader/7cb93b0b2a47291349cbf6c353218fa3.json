{"remainingRequest":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/thread-loader/dist/cjs.js!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/babel-loader/lib/index.js!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/eslint-loader/index.js??ref--14-0!/home/mnl33/code/vue-forum/Forum-MVP/src/plugins/VeeValidatePlugin.js","dependencies":[{"path":"/home/mnl33/code/vue-forum/Forum-MVP/src/plugins/VeeValidatePlugin.js","mtime":1643200239468},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/babel.config.js","mtime":1640544182000},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js","mtime":1643186739485},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/thread-loader/dist/cjs.js","mtime":1643186739453},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/babel-loader/lib/index.js","mtime":1643186739974},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/eslint-loader/index.js","mtime":1643186739542}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL21ubDMzL2NvZGUvdnVlLWZvcnVtL0ZvcnVtLU1WUC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS9tbmwzMy9jb2RlL3Z1ZS1mb3J1bS9Gb3J1bS1NVlAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IEZvcm0sIEZpZWxkLCBFcnJvck1lc3NhZ2UsIGRlZmluZVJ1bGUsIGNvbmZpZ3VyZSB9IGZyb20gJ3ZlZS12YWxpZGF0ZSc7CmltcG9ydCB7IHJlcXVpcmVkLCBlbWFpbCwgbWluIH0gZnJvbSAnQHZlZS12YWxpZGF0ZS9ydWxlcyc7CmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnQHZlZS12YWxpZGF0ZS9pMThuJzsKaW1wb3J0IGZpcmViYXNlIGZyb20gJ0AvaGVscGVycy9maXJlYmFzZSc7CmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoYXBwKSB7CiAgZGVmaW5lUnVsZSgncmVxdWlyZWQnLCByZXF1aXJlZCk7CiAgZGVmaW5lUnVsZSgnZW1haWwnLCBlbWFpbCk7CiAgZGVmaW5lUnVsZSgnbWluJywgbWluKTsKICBkZWZpbmVSdWxlKCd1bmlxdWUnLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodmFsdWUsIGFyZ3MpIHsKICAgICAgdmFyIGNvbGxlY3Rpb24sIGZpZWxkLCBfYXJncywgcXVlcnlTbmFwc2hvdDsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmdzKSkgewogICAgICAgICAgICAgICAgX2FyZ3MgPSBfc2xpY2VkVG9BcnJheShhcmdzLCAyKTsKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBfYXJnc1swXTsKICAgICAgICAgICAgICAgIGZpZWxkID0gX2FyZ3NbMV07CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24gPSBhcmdzLmNvbGxlY3Rpb247CiAgICAgICAgICAgICAgICBmaWVsZCA9IGFyZ3MuZmllbGQ7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gZmlyZWJhc2UuZmlyZXN0b3JlKCkuY29sbGVjdGlvbihjb2xsZWN0aW9uKS53aGVyZShmaWVsZCwgJz09JywgdmFsdWUpLmdldCgpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHF1ZXJ5U25hcHNob3QgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHF1ZXJ5U25hcHNob3QuZW1wdHkpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIpIHsKICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpKTsKICBjb25maWd1cmUoewogICAgZ2VuZXJhdGVNZXNzYWdlOiBsb2NhbGl6ZSgnZW4nLCB7CiAgICAgIG1lc3NhZ2VzOiB7CiAgICAgICAgcmVxdWlyZWQ6ICd7ZmllbGR9IGlzIHJlcXVpcmVkJywKICAgICAgICBlbWFpbDogJ3tmaWVsZH0gbXVzdCBiZSBhIHZhbGlkIGVtYWlsJywKICAgICAgICBtaW46ICd7ZmllbGR9IG11c3QgYmUgMDp7bWlufSBjaGFyYWN0ZXJzIGxvbmcnLAogICAgICAgIHVuaXF1ZTogJ3tmaWVsZH0gaXMgYWxyZWFkeSB0YWtlbicKICAgICAgfQogICAgfSkKICB9KTsKICBhcHAuY29tcG9uZW50KCdWZWVGb3JtJywgRm9ybSk7CiAgYXBwLmNvbXBvbmVudCgnVmVlRmllbGQnLCBGaWVsZCk7CiAgYXBwLmNvbXBvbmVudCgnVmVlRXJyb3JNZXNzYWdlJywgRXJyb3JNZXNzYWdlKTsKfSk7"},{"version":3,"sources":["/home/mnl33/code/vue-forum/Forum-MVP/src/plugins/VeeValidatePlugin.js"],"names":["Form","Field","ErrorMessage","defineRule","configure","required","email","min","localize","firebase","app","value","args","Array","isArray","collection","field","firestore","where","get","querySnapshot","empty","generateMessage","messages","unique","component"],"mappings":";;;AAAA,SAASA,IAAT,EAAeC,KAAf,EAAsBC,YAAtB,EAAoCC,UAApC,EAAgDC,SAAhD,QAAiE,cAAjE;AACA,SAASC,QAAT,EAAmBC,KAAnB,EAA0BC,GAA1B,QAAqC,qBAArC;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AAEA,gBAAe,UAACC,GAAD,EAAS;AACpBP,EAAAA,UAAU,CAAC,UAAD,EAAaE,QAAb,CAAV;AACAF,EAAAA,UAAU,CAAC,OAAD,EAAUG,KAAV,CAAV;AACAH,EAAAA,UAAU,CAAC,KAAD,EAAQI,GAAR,CAAV;AACAJ,EAAAA,UAAU,CAAC,QAAD;AAAA,uEAAW,iBAAOQ,KAAP,EAAcC,IAAd;AAAA;;AAAA;AAAA;AAAA;AAAA;AAEjB,kBAAGC,KAAK,CAACC,OAAN,CAAcF,IAAd,CAAH,EAAwB;AAAA,uCACEA,IADF;AACnBG,gBAAAA,UADmB;AACPC,gBAAAA,KADO;AAEvB,eAFD,MAEO;AACDD,gBAAAA,UADC,GACoBH,IADpB,CACDG,UADC;AACWC,gBAAAA,KADX,GACoBJ,IADpB,CACWI,KADX;AAEN;;AANgB;AAAA,qBAOWP,QAAQ,CAACQ,SAAT,GAAqBF,UAArB,CAAgCA,UAAhC,EAA4CG,KAA5C,CAAkDF,KAAlD,EAAyD,IAAzD,EAA+DL,KAA/D,EAAsEQ,GAAtE,EAPX;;AAAA;AAOXC,cAAAA,aAPW;AAAA,+CAQVA,aAAa,CAACC,KARJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAX;;AAAA;AAAA;AAAA;AAAA,MAAV;AAWAjB,EAAAA,SAAS,CAAE;AACPkB,IAAAA,eAAe,EAAEd,QAAQ,CAAC,IAAD,EAAO;AAC5Be,MAAAA,QAAQ,EAAE;AACNlB,QAAAA,QAAQ,EAAE,qBADJ;AAENC,QAAAA,KAAK,EAAE,+BAFD;AAGNC,QAAAA,GAAG,EAAE,yCAHC;AAINiB,QAAAA,MAAM,EAAE;AAJF;AADkB,KAAP;AADlB,GAAF,CAAT;AAWAd,EAAAA,GAAG,CAACe,SAAJ,CAAc,SAAd,EAAyBzB,IAAzB;AACAU,EAAAA,GAAG,CAACe,SAAJ,CAAc,UAAd,EAA0BxB,KAA1B;AACAS,EAAAA,GAAG,CAACe,SAAJ,CAAc,iBAAd,EAAiCvB,YAAjC;AACH,CA7BD","sourcesContent":["import { Form, Field, ErrorMessage, defineRule, configure } from 'vee-validate'\nimport { required, email, min } from '@vee-validate/rules'\nimport { localize } from '@vee-validate/i18n'\nimport firebase from '@/helpers/firebase'\n\nexport default (app) => {\n    defineRule('required', required)\n    defineRule('email', email)\n    defineRule('min', min)\n    defineRule('unique', async (value, args) => {\n        let collection, field;\n        if(Array.isArray(args)) {\n            [collection, field] = args\n        } else {\n            ({collection, field} = args)\n        }\n        const querySnapshot = await firebase.firestore().collection(collection).where(field, '==', value).get()\n        return querySnapshot.empty\n    })\n\n    configure( {\n        generateMessage: localize('en', {\n            messages: {\n                required: '{field} is required',\n                email: '{field} must be a valid email',\n                min: '{field} must be 0:{min} characters long',\n                unique: '{field} is already taken'\n            }\n        })\n    })\n\n    app.component('VeeForm', Form)\n    app.component('VeeField', Field)\n    app.component('VeeErrorMessage', ErrorMessage)\n}\n\n"]}]}
{"remainingRequest":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/babel-loader/lib/index.js!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue?vue&type=template&id=e233520a&scoped=true","dependencies":[{"path":"/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue","mtime":1643622960994},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/babel.config.js","mtime":1640544182000},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js","mtime":1643186739485},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/babel-loader/lib/index.js","mtime":1643186739974},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1643186740268},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js","mtime":1643186739485},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/index.js","mtime":1643186739950}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aFNjb3BlSWQgPSBmdW5jdGlvbiBfd2l0aFNjb3BlSWQobikgewogIHJldHVybiBfcHVzaFNjb3BlSWQoImRhdGEtdi1lMjMzNTIwYSIpLCBuID0gbigpLCBfcG9wU2NvcGVJZCgpLCBuOwp9OwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJkaXNjdXNzaW9uLXBhZ2UiCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAid29yZC10aXRsZSIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJjb250YWluZXIiCn07CnZhciBfaG9pc3RlZF80ID0gewogIGtleTogMCwKICBjbGFzczogImRpc2N1c3Npb24iCn07CnZhciBfaG9pc3RlZF81ID0gewogIGtleTogMSwKICBjbGFzczogIm5vLWRpc2N1c3Npb25zIgp9Owp2YXIgX2hvaXN0ZWRfNiA9IHsKICBrZXk6IDIsCiAgY2xhc3M6ICJ0aGUtc2Nvb3BzIgp9Owp2YXIgX2hvaXN0ZWRfNyA9IHsKICBrZXk6IDMsCiAgY2xhc3M6ICJuby1zY29vcHMiCn07Cgp2YXIgX2hvaXN0ZWRfOCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDMiLCBudWxsLCAiTm8gU2Nvb3BzIHlldCEiLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCnZhciBfaG9pc3RlZF85ID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoNCIsIG51bGwsICJEbyB5b3UgaGF2ZSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIHdvcmQncyBvcmlnaW5zIHRvIHNoYXJlPyIsIC0xCiAgLyogSE9JU1RFRCAqLwogICk7Cn0pOwoKdmFyIF9ob2lzdGVkXzEwID0gW19ob2lzdGVkXzgsIF9ob2lzdGVkXzldOwoKdmFyIF9ob2lzdGVkXzExID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCiAgLyogSE9JU1RFRCAqLwogICk7Cn0pOwoKdmFyIF9ob2lzdGVkXzEyID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoNCIsIG51bGwsICIgQWRkIGEgU2Nvb3AiLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfRGlzY3Vzc2lvbkNhcmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRGlzY3Vzc2lvbkNhcmQiKTsKCiAgdmFyIF9jb21wb25lbnRfU2Nvb3BDYXJkID0gX3Jlc29sdmVDb21wb25lbnQoIlNjb29wQ2FyZCIpOwoKICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaGVhZGVyIiwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIF90b0Rpc3BsYXlTdHJpbmcoJG9wdGlvbnMuZGlzY3Vzc2lvbi53b3JkKSwgMQogIC8qIFRFWFQgKi8KICApXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFskb3B0aW9ucy5kaXNjdXNzaW9uID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0Rpc2N1c3Npb25DYXJkLCB7CiAgICBkaXNjdXNzaW9uOiAkb3B0aW9ucy5kaXNjdXNzaW9uLAogICAgZGlzY3Vzc2lvbkF1dGhvcjogJG9wdGlvbnMuZGlzY3Vzc2lvbkF1dGhvcgogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJkaXNjdXNzaW9uIiwgImRpc2N1c3Npb25BdXRob3IiXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImg1IiwgbnVsbCwgIlRoZSBkaXNjdXNzaW9uIGF1dGhvcjogIiArIF90b0Rpc3BsYXlTdHJpbmcoJG9wdGlvbnMuZGlzY3Vzc2lvbkF1dGhvciksIDEKICAvKiBURVhUICovCiAgKV0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzUsICJFcnJvciwgdGhpcyBkaXNjdXNzaW9uIGRvZXMgbm90IGV4aXN0IGFueW1vcmUiKSksICRvcHRpb25zLnBlcnRpbmVudFNjb29wcyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzYsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRvcHRpb25zLnBlcnRpbmVudFNjb29wcywgZnVuY3Rpb24gKHNjb29wKSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgIGtleTogc2Nvb3AuaWQsCiAgICAgIGNsYXNzOiAic2Nvb3BzLWxpc3QiCiAgICB9LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfU2Nvb3BDYXJkLCB7CiAgICAgIHNjb29wOiBzY29vcAogICAgfSwgbnVsbCwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJzY29vcCJdKV0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAkb3B0aW9ucy5wZXJ0aW5lbnRTY29vcHMubGVuZ3RoID09IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF83LCBfaG9pc3RlZF8xMCkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfaG9pc3RlZF8xMSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl9saW5rLCB7CiAgICB0bzogewogICAgICBuYW1lOiAnU2Nvb3BOZXcnLAogICAgICBwYXJhbXM6IHsKICAgICAgICBpZDogdGhpcy5pZAogICAgICB9CiAgICB9CiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzEyXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0sIDgKICAvKiBQUk9QUyAqLwogICwgWyJ0byJdKV0pXSldKTsKfQ=="},{"version":3,"sources":["/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;AAEF,EAAA,KAAK,EAAC;;;AAKR,EAAA,KAAK,EAAC;;;;AACc,EAAA,KAAK,EAAE;;;;AAKlB,EAAA,KAAK,EAAC;;;;AACU,EAAA,KAAK,EAAC;;;;AAKM,EAAA,KAAK,EAAC;;;;sBAC5C,mBAAA,CAAuB,IAAvB,EAAuB,IAAvB,EAAI,gBAAJ,EAAkB,CAAA;AAAA;AAAlB,G;;;;sBACA,mBAAA,CAAoE,IAApE,EAAoE,IAApE,EAAI,6DAAJ,EAA+D,CAAA;AAAA;AAA/D,G;;;mBADA,U,EACA,U;;;sBAEF,mBAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,G;;;;sBAGE,mBAAA,CAAqB,IAArB,EAAqB,IAArB,EAAI,cAAJ,EAAgB,CAAA;AAAA;AAAhB,G;;;;;;;;;;uBA1BN,mBAAA,CA8BM,KA9BN,EAAA,UAAA,EA8BM,CA7BJ,mBAAA,CAIS,QAJT,EAIS,IAJT,EAIS,CAHP,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,gBAAA,CADD,QAAA,CAAA,UAAA,CAAW,IACV,CAFN,EACoB;AAAA;AADpB,GAGO,CAJT,CA6BI,EAvBJ,mBAAA,CAsBM,KAtBN,EAAA,UAAA,EAsBM,CArBO,QAAA,CAAA,U,kBAAX,mBAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,YAAA,CAA+E,yBAA/E,EAA+E;AAA9D,IAAA,UAAU,EAAE,QAAA,CAAA,UAAkD;AAArC,IAAA,gBAAgB,EAAE,QAAA,CAAA;AAAmB,GAA/E,E,IAAA,E;;AAAA,I,kCAAA,CAGI,EAFY,mBAAA,CAAsD,IAAtD,EAAsD,IAAtD,EAAI,4BAAuB,gBAAA,CAAG,QAAA,CAAA,gBAAH,CAA3B,EAA8C;AAAA;AAA9C,GAEZ,CAJN,C,mBAKA,mBAAA,CAAsF,KAAtF,EAAA,UAAA,EAAmC,+CAAnC,C,CAgBI,EAfO,QAAA,CAAA,e,kBAAX,mBAAA,CAIM,KAJN,EAAA,UAAA,EAIM,E,kBAHJ,mBAAA,CAEM,SAFN,EAEM,IAFN,EAEM,WAAA,CAFe,QAAA,CAAA,eAEf,EAF8B,UAAxB,KAAwB,EAAnB;yBAAjB,mBAAA,CAEM,KAFN,EAEM;AAFiC,MAAA,GAAG,EAAE,KAAK,CAAC,EAE5C;AAFgD,MAAA,KAAK,EAAC;AAEtD,KAFN,E,CACE,YAAA,CAA2B,oBAA3B,EAA2B;AAAf,MAAA,KAAK,EAAE;AAAQ,KAA3B,EAAwB,IAAxB,EAAwB;AAAA;AAAxB,MAAwB,CAAA,OAAA,CAAxB,C,CADF,C;GAEM,CAFN,E;;AAAA,GAGI,EAJN,C,qCAeI,EAVO,QAAA,CAAA,eAAA,CAAgB,MAAhB,IAAsB,C,kBAAjC,mBAAA,CAGM,KAHN,EAAA,UAAA,EAGM,WAHN,C,qCAUI,EANJ,WAMI,EALJ,mBAAA,CAIS,QAJT,EAIS,IAJT,EAIS,CAHP,YAAA,CAEc,sBAFd,EAEc;AAFA,IAAA,EAAE,EAAA;AAAA,MAAA,IAAA,EAAA,UAAA;AAAA,MAAA,MAAA,EAAA;AAAA,QAAA,EAAA,EAAA,KAAuC;AAAvC;AAAA;AAEF,GAFd,E;sBACA;AAAA,aAAqB,CAArB,WAAqB,CAArB;AAAA,K;;;;GADA,E;;AAAA,I,MAAA,CAGO,CAJT,CAKI,CAtBN,CAuBI,CA9BN,C","sourcesContent":["<template>\n  <div class=\"discussion-page\">\n    <header>\n      <div class=\"word-title\">\n        {{ discussion.word }}\n      </div>\n    </header>\n\n    <div class=\"container\">\n      <div v-if=\"discussion\" class= \"discussion\">\n        <DiscussionCard :discussion=\"discussion\" :discussionAuthor=\"discussionAuthor\"/>\n                        <h5>The discussion author: {{ discussionAuthor }}</h5>\n\n      </div>\n      <div v-else class=\"no-discussions\">Error, this discussion does not exist anymore</div>\n      <div v-if=\"pertinentScoops\" class=\"the-scoops\">\n        <div v-for=\"scoop in pertinentScoops\" :key=\"scoop.id\" class=\"scoops-list\">\n          <ScoopCard :scoop=\"scoop\"/>\n        </div>\n      </div>\n      <div v-if=\"pertinentScoops.length == 0\" class=\"no-scoops\">\n        <h3>No Scoops yet!</h3>\n        <h4>Do you have information about this word's origins to share?</h4>\n      </div>   \n      <br>\n      <button>\n        <router-link :to=\"{name: 'ScoopNew', params: {id: this.id}}\">\n        <h4> Add a Scoop</h4>  \n        </router-link>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DiscussionCard from '@/components/DiscussionCard'\nimport ScoopCard from '@/components/ScoopCard'\nimport { findById } from '@/helpers'\n// import { mapActions } from 'vuex'\nexport default {\n  components: { DiscussionCard, ScoopCard },\n  props: {\n    id : {\n      required: true,\n      type: String\n    }\n  },\n  beforeCreate () {\n    console.log('receiving this id as prop: ', this.id)\n  },\n  async created () {\n    // fetch the discussion\n    const discussion = await this.$store.dispatch('discussions/fetchDiscussion', { id: this.id })\n    console.log('discussion as fetched in DiscussionPage: ', discussion)\n    this.$emit('ready')\n    // fetch scoops\n    const scoops = await this.$store.dispatch('scoops/fetchScoops', { ids: discussion.scoops })\n    // PENDING -- this raises exception when discussion has no scoops\n\n    // fetch discussion author\n    console.log('fetching user of id: ', this.id)\n    this.$store.dispatch('fetchUser', { discussionId: this.id })\n\n    // fetch users associated with the scoops\n    let usersIds = scoops.map(scoop => scoop.userId)\n    // const discussionUserId = discussion.usersIds\n    // usersIds.push(discussionUserId) UNNECESSARY SINCE WE DO GET DISCUSSION AUTHOR ABOVE\n    this.$store.dispatch('fetchUsers', { ids: usersIds })\n  },\n  computed: {\n    discussions () {\n      // this is probably stupid because we fetch only one discussion\n      // Is this two computed process just a way to get the discussion out of the array????\n      return this.$store.state.discussions.items\n    },\n    discussion () {\n      console.log('discussions.items: ', this.discussions)\n      return findById(this.discussions, this.id)\n    },\n    allScoops () {\n      console.log('the scoops.items: ', this.$store.state.scoops)\n      return this.$store.state.scoops.items\n    },\n    pertinentScoops () {\n      return this.allScoops.filter(scoop => scoop.discussionId === this.id)\n    },\n    discussionAuthor () {\n      return findById(this.$store.state.users.items, this.discussion.userId)\n    },\n    // scoopsAuthors () {\n\n    // }\n  }\n  // methods: {\n  //   ...mapActions('users', ['fetchUsers'])\n  // }\n}\n</script>\n\n<style scoped>\n\n.discussion-page {\n  padding-right: 15%;\n  padding-left: 15%;\n}\n\n.word-title {\n   left: 0;\n   font-size:3em;\n   color: #58f0cd;\n   margin: none;\n   padding: 0.2em;\n   padding-left: 0.5em;\n }\n\n.container {\n  width: 100%;\n}\n\n.discussion {\n  background-color: #b6ebf6;\n  color: #042820;\n  margin: none;\n  padding: none;\n  border-radius: 1em;\n}\n\n.scoops-list {\n  background-color: rgb(123, 226, 240);\n  margin: 0.2em;\n  padding: 1em;\n  border-radius: 1em;\n}\n</style>"],"sourceRoot":""}]}
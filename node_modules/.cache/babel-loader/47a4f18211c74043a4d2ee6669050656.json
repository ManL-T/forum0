{"remainingRequest":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/babel-loader/lib/index.js!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue?vue&type=template&id=e233520a&scoped=true","dependencies":[{"path":"/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue","mtime":1643644273785},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/babel.config.js","mtime":1640544182000},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js","mtime":1643186739485},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/babel-loader/lib/index.js","mtime":1643186739974},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1643186740268},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js","mtime":1643186739485},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/index.js","mtime":1643186739950}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aFNjb3BlSWQgPSBmdW5jdGlvbiBfd2l0aFNjb3BlSWQobikgewogIHJldHVybiBfcHVzaFNjb3BlSWQoImRhdGEtdi1lMjMzNTIwYSIpLCBuID0gbigpLCBfcG9wU2NvcGVJZCgpLCBuOwp9OwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJkaXNjdXNzaW9uLXBhZ2UiCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAiY29udGFpbmVyIgp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJkaXNjdXNzaW9uIgp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBrZXk6IDEsCiAgY2xhc3M6ICJuby1kaXNjdXNzaW9ucyIKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAga2V5OiAyLAogIGNsYXNzOiAidGhlLXNjb29wcyIKfTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAga2V5OiAzLAogIGNsYXNzOiAibm8tc2Nvb3BzIgp9OwoKdmFyIF9ob2lzdGVkXzcgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgzIiwgbnVsbCwgIk5vIFNjb29wcyB5ZXQhIiwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfOCA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDQiLCBudWxsLCAiRG8geW91IGhhdmUgaW5mb3JtYXRpb24gYWJvdXQgdGhpcyB3b3JkJ3Mgb3JpZ2lucyB0byBzaGFyZT8iLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCnZhciBfaG9pc3RlZF85ID0gW19ob2lzdGVkXzcsIF9ob2lzdGVkXzhdOwoKdmFyIF9ob2lzdGVkXzEwID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xCiAgLyogSE9JU1RFRCAqLwogICk7Cn0pOwoKdmFyIF9ob2lzdGVkXzExID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoNCIsIG51bGwsICIgQWRkIGEgU2Nvb3AiLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfRGlzY3Vzc2lvbkNhcmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRGlzY3Vzc2lvbkNhcmQiKTsKCiAgdmFyIF9jb21wb25lbnRfU2Nvb3BDYXJkID0gX3Jlc29sdmVDb21wb25lbnQoIlNjb29wQ2FyZCIpOwoKICB2YXIgX2NvbXBvbmVudF9yb3V0ZXJfbGluayA9IF9yZXNvbHZlQ29tcG9uZW50KCJyb3V0ZXItbGluayIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaGVhZGVyIiwgbnVsbCwgW19jcmVhdGVDb21tZW50Vk5vZGUoIiA8ZGl2IGNsYXNzPVwid29yZC10aXRsZVwiPiAiKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDEiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKCRvcHRpb25zLmRpc2N1c3Npb24ud29yZCksIDEKICAvKiBURVhUICovCiAgKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIDwvZGl2PiAiKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbJG9wdGlvbnMuZGlzY3Vzc2lvbiA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9EaXNjdXNzaW9uQ2FyZCwgewogICAgZGlzY3Vzc2lvbjogJG9wdGlvbnMuZGlzY3Vzc2lvbiwKICAgIGRpc2N1c3Npb25BdXRob3I6ICRvcHRpb25zLmRpc2N1c3Npb25BdXRob3IKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsiZGlzY3Vzc2lvbiIsICJkaXNjdXNzaW9uQXV0aG9yIl0pXSkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNCwgIkVycm9yLCB0aGlzIGRpc2N1c3Npb24gZG9lcyBub3QgZXhpc3QgYW55bW9yZSIpKSwgJG9wdGlvbnMucGVydGluZW50U2Nvb3BzID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNSwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJG9wdGlvbnMucGVydGluZW50U2Nvb3BzLCBmdW5jdGlvbiAoc2Nvb3ApIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAga2V5OiBzY29vcC5pZCwKICAgICAgY2xhc3M6ICJzY29vcHMtbGlzdCIKICAgIH0sIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TY29vcENhcmQsIHsKICAgICAgc2Nvb3A6IHNjb29wLAogICAgICBzY29vcHNBdXRob3JzOiAkb3B0aW9ucy5zY29vcHNBdXRob3JzCiAgICB9LCBudWxsLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBbInNjb29wIiwgInNjb29wc0F1dGhvcnMiXSldKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgJG9wdGlvbnMucGVydGluZW50U2Nvb3BzLmxlbmd0aCA9PSAwID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNiwgX2hvaXN0ZWRfOSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfaG9pc3RlZF8xMCwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiYnV0dG9uIiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl9saW5rLCB7CiAgICB0bzogewogICAgICBuYW1lOiAnU2Nvb3BOZXcnLAogICAgICBwYXJhbXM6IHsKICAgICAgICBpZDogdGhpcy5pZAogICAgICB9CiAgICB9CiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19ob2lzdGVkXzExXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0sIDgKICAvKiBQUk9QUyAqLwogICwgWyJ0byJdKV0pXSldKTsKfQ=="},{"version":3,"sources":["/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;AAOJ,EAAA,KAAK,EAAC;;;;AACc,EAAA,KAAK,EAAE;;;;AAGlB,EAAA,KAAK,EAAC;;;;AACU,EAAA,KAAK,EAAC;;;;AAKM,EAAA,KAAK,EAAC;;;;sBAC5C,mBAAA,CAAuB,IAAvB,EAAuB,IAAvB,EAAI,gBAAJ,EAAkB,CAAA;AAAA;AAAlB,G;;;;sBACA,mBAAA,CAAoE,IAApE,EAAoE,IAApE,EAAI,6DAAJ,EAA+D,CAAA;AAAA;AAA/D,G;;;kBADA,U,EACA,U;;;sBAEF,mBAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA;AAAA;AAAJ,G;;;;sBAGE,mBAAA,CAAqB,IAArB,EAAqB,IAArB,EAAI,cAAJ,EAAgB,CAAA;AAAA;AAAhB,G;;;;;;;;;;uBAxBN,mBAAA,CA4BM,KA5BN,EAAA,UAAA,EA4BM,CA3BJ,mBAAA,CAIS,QAJT,EAIS,IAJT,EAIS,CAHP,mBAAA,CAAA,8BAAA,CAGO,EAFL,mBAAA,CAA8B,IAA9B,EAA8B,IAA9B,EAA8B,gBAAA,CAAvB,QAAA,CAAA,UAAA,CAAW,IAAY,CAA9B,EAAsB;AAAA;AAAtB,GAEK,EADP,mBAAA,CAAA,UAAA,CACO,CAJT,CA2BI,EArBJ,mBAAA,CAoBM,KApBN,EAAA,UAAA,EAoBM,CAnBO,QAAA,CAAA,U,kBAAX,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADJ,YAAA,CAA+E,yBAA/E,EAA+E;AAA9D,IAAA,UAAU,EAAE,QAAA,CAAA,UAAkD;AAArC,IAAA,gBAAgB,EAAE,QAAA,CAAA;AAAmB,GAA/E,E,IAAA,E;;AAAA,I,kCAAA,CACI,CAFN,C,mBAGA,mBAAA,CAAsF,KAAtF,EAAA,UAAA,EAAmC,+CAAnC,C,CAgBI,EAfO,QAAA,CAAA,e,kBAAX,mBAAA,CAIM,KAJN,EAAA,UAAA,EAIM,E,kBAHJ,mBAAA,CAEM,SAFN,EAEM,IAFN,EAEM,WAAA,CAFe,QAAA,CAAA,eAEf,EAF8B,UAAxB,KAAwB,EAAnB;yBAAjB,mBAAA,CAEM,KAFN,EAEM;AAFiC,MAAA,GAAG,EAAE,KAAK,CAAC,EAE5C;AAFgD,MAAA,KAAK,EAAC;AAEtD,KAFN,E,CACE,YAAA,CAA0D,oBAA1D,EAA0D;AAA9C,MAAA,KAAK,EAAE,KAAuC;AAA/B,MAAA,aAAa,EAAE,QAAA,CAAA;AAAgB,KAA1D,E,IAAA,E;;AAAA,M,0BAAA,C,CADF,C;GAEM,CAFN,E;;AAAA,GAGI,EAJN,C,qCAeI,EAVO,QAAA,CAAA,eAAA,CAAgB,MAAhB,IAAsB,C,kBAAjC,mBAAA,CAGM,KAHN,EAAA,UAAA,EAGM,UAHN,C,qCAUI,EANJ,WAMI,EALJ,mBAAA,CAIS,QAJT,EAIS,IAJT,EAIS,CAHP,YAAA,CAEc,sBAFd,EAEc;AAFA,IAAA,EAAE,EAAA;AAAA,MAAA,IAAA,EAAA,UAAA;AAAA,MAAA,MAAA,EAAA;AAAA,QAAA,EAAA,EAAA,KAAuC;AAAvC;AAAA;AAEF,GAFd,E;sBACA;AAAA,aAAqB,CAArB,WAAqB,CAArB;AAAA,K;;;;GADA,E;;AAAA,I,MAAA,CAGO,CAJT,CAKI,CApBN,CAqBI,CA5BN,C","sourcesContent":["<template>\n  <div class=\"discussion-page\">\n    <header>\n      <!-- <div class=\"word-title\"> -->\n        <h1>{{ discussion.word }}</h1>\n      <!-- </div> -->\n    </header>\n\n    <div class=\"container\">\n      <div v-if=\"discussion\" class= \"discussion\">\n        <DiscussionCard :discussion=\"discussion\" :discussionAuthor=\"discussionAuthor\"/>\n      </div>\n      <div v-else class=\"no-discussions\">Error, this discussion does not exist anymore</div>\n      <div v-if=\"pertinentScoops\" class=\"the-scoops\">\n        <div v-for=\"scoop in pertinentScoops\" :key=\"scoop.id\" class=\"scoops-list\">\n          <ScoopCard :scoop=\"scoop\" :scoopsAuthors=\"scoopsAuthors\"/>\n        </div>\n      </div>\n      <div v-if=\"pertinentScoops.length == 0\" class=\"no-scoops\">\n        <h3>No Scoops yet!</h3>\n        <h4>Do you have information about this word's origins to share?</h4>\n      </div>   \n      <br>\n      <button>\n        <router-link :to=\"{name: 'ScoopNew', params: {id: this.id}}\">\n        <h4> Add a Scoop</h4>  \n        </router-link>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DiscussionCard from '@/components/DiscussionCard'\nimport ScoopCard from '@/components/ScoopCard'\nimport { findById } from '@/helpers'\n// import { mapActions } from 'vuex'\nexport default {\n  components: { DiscussionCard, ScoopCard },\n  props: {\n    id : {\n      required: true,\n      type: String\n    }\n  },\n  beforeCreate () {\n    console.log('receiving this id as prop: ', this.id)\n  },\n  async created () {\n    // fetch the discussion\n    const discussion = await this.$store.dispatch('discussions/fetchDiscussion', { id: this.id })\n    console.log('discussion as fetched in DiscussionPage: ', discussion)\n    this.$emit('ready')\n    // fetch scoops\n    const scoops = await this.$store.dispatch('scoops/fetchScoops', { ids: discussion.scoops })\n    // PENDING -- this raises exception when discussion has no scoops\n\n    // fetch discussion author\n    console.log('fetching user of id: ', this.id)\n    this.$store.dispatch('fetchUser', { discussionId: this.id })\n\n    // fetch users associated with the scoops\n    let usersIds = scoops.map(scoop => scoop.userId)\n    // const discussionUserId = discussion.usersIds\n    // usersIds.push(discussionUserId) UNNECESSARY SINCE WE DO GET DISCUSSION AUTHOR ABOVE\n    this.$store.dispatch('fetchUsers', { ids: usersIds })\n  },\n  computed: {\n    discussions () {\n      // this is probably stupid because we fetch only one discussion\n      // Is this two computed process just a way to get the discussion out of the array????\n      return this.$store.state.discussions.items\n    },\n    discussion () {\n      console.log('discussions.items: ', this.discussions)\n      return findById(this.discussions, this.id)\n    },\n    allScoops () {\n      console.log('the scoops.items: ', this.$store.state.scoops)\n      return this.$store.state.scoops.items\n    },\n    pertinentScoops () {\n      return this.allScoops.filter(scoop => scoop.discussionId === this.id)\n    },\n    discussionAuthor () {\n      return findById(this.$store.state.users.items, this.discussion.userId)\n    },\n    scoopsAuthors () {\n      return this.$store.state.users.items\n    }\n  }\n  // methods: {\n  //   ...mapActions('users', ['fetchUsers'])\n  // }\n}\n</script>\n\n<style scoped>\n\n.discussion-page {\n  padding-right: 15%;\n  padding-left: 15%;\n}\n\nheader {\n  margin: none;\n  padding: none;\n  border: none;\n}\n\n.word-title {\n  margin: none;\n  padding: none;\n  border: none;\n }\n\nh1 {\n  font-size:1.5em;\n  color: #58f0cd;\n  margin: none;\n  padding: none;\n  border: none;\n  padding-left: 0.5em;\n}\n\n.container {\n  width: 100%;\n  margin: none;\n  padding: none;\n  border: none;\n}\n\n.discussion {\n  background-color: #7dbfcc;\n  color: #042820;\n  margin: none;\n  padding: 0.5em;\n  border-radius: 8px 8px 0px 0px;\n}\n\n.scoops-list {\n  background-color: rgb(123, 226, 240);\n  margin: none;\n  margin-top: 5px;\n  padding: 25px;\n  /* border-radius: 1em; */\n}\n</style>"],"sourceRoot":""}]}
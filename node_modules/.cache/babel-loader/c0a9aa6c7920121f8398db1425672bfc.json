{"remainingRequest":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/babel-loader/lib/index.js!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue","mtime":1643569730728},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/babel.config.js","mtime":1640544182000},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js","mtime":1643186739485},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/babel-loader/lib/index.js","mtime":1643186739974},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js","mtime":1643186739485},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/index.js","mtime":1643186739950}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21ubDMzL2NvZGUvdnVlLWZvcnVtL0ZvcnVtLU1WUC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBEaXNjdXNzaW9uQ2FyZCBmcm9tICdAL2NvbXBvbmVudHMvRGlzY3Vzc2lvbkNhcmQnOwppbXBvcnQgU2Nvb3BDYXJkIGZyb20gJ0AvY29tcG9uZW50cy9TY29vcENhcmQnOwppbXBvcnQgeyBmaW5kQnlJZCB9IGZyb20gJ0AvaGVscGVycyc7IC8vIGltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIERpc2N1c3Npb25DYXJkOiBEaXNjdXNzaW9uQ2FyZCwKICAgIFNjb29wQ2FyZDogU2Nvb3BDYXJkCiAgfSwKICBwcm9wczogewogICAgaWQ6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICBjb25zb2xlLmxvZygncmVjZWl2aW5nIHRoaXMgaWQgYXMgcHJvcDogJywgdGhpcy5pZCk7CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgZGlzY3Vzc2lvbiwgc2Nvb3BzLCB1c2Vyc0lkczsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2Rpc2N1c3Npb25zL2ZldGNoRGlzY3Vzc2lvbicsIHsKICAgICAgICAgICAgICAgIGlkOiBfdGhpcy5pZAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGRpc2N1c3Npb24gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkaXNjdXNzaW9uIGFzIGZldGNoZWQgaW4gRGlzY3Vzc2lvblBhZ2U6ICcsIGRpc2N1c3Npb24pOwoKICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgncmVhZHknKTsgLy8gZmV0Y2ggc2Nvb3BzCgoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzY29vcHMvZmV0Y2hTY29vcHMnLCB7CiAgICAgICAgICAgICAgICBpZHM6IGRpc2N1c3Npb24uc2Nvb3BzCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgc2Nvb3BzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAvLyBQRU5ESU5HIC0tIHRoaXMgcmFpc2VzIGV4Y2VwdGlvbiB3aGVuIGRpc2N1c3Npb24gaGFzIG5vIHNjb29wcwogICAgICAgICAgICAgIC8vIGZldGNoIGRpc2N1c3Npb24gYXV0aG9yCiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZldGNoaW5nIHVzZXIgb2YgaWQ6ICcsIF90aGlzLmlkKTsKCiAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdmZXRjaFVzZXInLCB7CiAgICAgICAgICAgICAgICBkaXNjdXNzaW9uSWQ6IF90aGlzLmlkCiAgICAgICAgICAgICAgfSk7IC8vIGZldGNoIHVzZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGUgc2Nvb3BzCgoKICAgICAgICAgICAgICB1c2Vyc0lkcyA9IHNjb29wcy5tYXAoZnVuY3Rpb24gKHNjb29wKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc2Nvb3AudXNlcklkOwogICAgICAgICAgICAgIH0pOyAvLyBjb25zdCBkaXNjdXNzaW9uVXNlcklkID0gZGlzY3Vzc2lvbi51c2Vyc0lkcwogICAgICAgICAgICAgIC8vIHVzZXJzSWRzLnB1c2goZGlzY3Vzc2lvblVzZXJJZCkgVU5ORUNFU1NBUlkgU0lOQ0UgV0UgRE8gR0VUIERJU0NVU1NJT04gQVVUSE9SIEFCT1ZFCgogICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnZmV0Y2hVc2VycycsIHsKICAgICAgICAgICAgICAgIGlkczogdXNlcnNJZHMKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgZGlzY3Vzc2lvbnM6IGZ1bmN0aW9uIGRpc2N1c3Npb25zKCkgewogICAgICAvLyB0aGlzIGlzIHByb2JhYmx5IHN0dXBpZCBiZWNhdXNlIHdlIGZldGNoIG9ubHkgb25lIGRpc2N1c3Npb24KICAgICAgLy8gSXMgdGhpcyB0d28gY29tcHV0ZWQgcHJvY2VzcyBqdXN0IGEgd2F5IHRvIGdldCB0aGUgZGlzY3Vzc2lvbiBvdXQgb2YgdGhlIGFycmF5Pz8/PwogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZGlzY3Vzc2lvbnMuaXRlbXM7CiAgICB9LAogICAgZGlzY3Vzc2lvbjogZnVuY3Rpb24gZGlzY3Vzc2lvbigpIHsKICAgICAgY29uc29sZS5sb2coJ2Rpc2N1c3Npb25zLml0ZW1zOiAnLCB0aGlzLmRpc2N1c3Npb25zKTsKICAgICAgcmV0dXJuIGZpbmRCeUlkKHRoaXMuZGlzY3Vzc2lvbnMsIHRoaXMuaWQpOwogICAgfSwKICAgIGFsbFNjb29wczogZnVuY3Rpb24gYWxsU2Nvb3BzKCkgewogICAgICBjb25zb2xlLmxvZygndGhlIHNjb29wcy5pdGVtczogJywgdGhpcy4kc3RvcmUuc3RhdGUuc2Nvb3BzKTsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNjb29wcy5pdGVtczsKICAgIH0sCiAgICBwZXJ0aW5lbnRTY29vcHM6IGZ1bmN0aW9uIHBlcnRpbmVudFNjb29wcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5hbGxTY29vcHMuZmlsdGVyKGZ1bmN0aW9uIChzY29vcCkgewogICAgICAgIHJldHVybiBzY29vcC5kaXNjdXNzaW9uSWQgPT09IF90aGlzMi5pZDsKICAgICAgfSk7CiAgICB9CiAgfSAvLyBtZXRob2RzOiB7CiAgLy8gICAuLi5tYXBBY3Rpb25zKCd1c2VycycsIFsnZmV0Y2hVc2VycyddKQogIC8vIH0KCn07"},{"version":3,"sources":["/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue"],"names":[],"mappings":";;;;;AAiCA,OAAO,cAAP,MAA2B,6BAA3B;AACA,OAAO,SAAP,MAAsB,wBAAtB;AACA,SAAS,QAAT,QAAyB,WAAzB,C,CACA;;AACA,eAAe;AACb,EAAA,UAAU,EAAE;AAAE,IAAA,cAAc,EAAd,cAAF;AAAkB,IAAA,SAAQ,EAAR;AAAlB,GADC;AAEb,EAAA,KAAK,EAAE;AACL,IAAA,EAAC,EAAI;AACH,MAAA,QAAQ,EAAE,IADP;AAEH,MAAA,IAAI,EAAE;AAFH;AADA,GAFM;AAQb,EAAA,YARa,0BAQG;AACd,IAAA,OAAO,CAAC,GAAR,CAAY,6BAAZ,EAA2C,KAAK,EAAhD;AACD,GAVY;AAWP,EAAA,OAXO,qBAWI;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEU,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,6BAArB,EAAoD;AAAE,gBAAA,EAAE,EAAE,KAAI,CAAC;AAAX,eAApD,CAFV;;AAAA;AAET,cAAA,UAFS;AAGf,cAAA,OAAO,CAAC,GAAR,CAAY,2CAAZ,EAAyD,UAAzD;;AACA,cAAA,KAAI,CAAC,KAAL,CAAW,OAAX,EAJe,CAKf;;;AALe;AAAA,qBAMM,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,oBAArB,EAA2C;AAAE,gBAAA,GAAG,EAAE,UAAU,CAAC;AAAlB,eAA3C,CANN;;AAAA;AAMT,cAAA,MANS;AAOf;AAEA;AACA,cAAA,OAAO,CAAC,GAAR,CAAY,uBAAZ,EAAqC,KAAI,CAAC,EAA1C;;AACA,cAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,WAArB,EAAkC;AAAE,gBAAA,YAAY,EAAE,KAAI,CAAC;AAArB,eAAlC,EAXe,CAaf;;;AACI,cAAA,QAdW,GAcA,MAAM,CAAC,GAAP,CAAW,UAAA,KAAI;AAAA,uBAAK,KAAK,CAAC,MAAX;AAAA,eAAf,CAdA,EAef;AACA;;AACA,cAAA,KAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,YAArB,EAAmC;AAAE,gBAAA,GAAG,EAAE;AAAP,eAAnC;;AAjBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBhB,GA7BY;AA8Bb,EAAA,QAAQ,EAAE;AACR,IAAA,WADQ,yBACO;AACb;AACA;AACA,aAAO,KAAK,MAAL,CAAY,KAAZ,CAAkB,WAAlB,CAA8B,KAArC;AACD,KALO;AAMR,IAAA,UANQ,wBAMM;AACZ,MAAA,OAAO,CAAC,GAAR,CAAY,qBAAZ,EAAmC,KAAK,WAAxC;AACA,aAAO,QAAQ,CAAC,KAAK,WAAN,EAAmB,KAAK,EAAxB,CAAf;AACD,KATO;AAUR,IAAA,SAVQ,uBAUK;AACX,MAAA,OAAO,CAAC,GAAR,CAAY,oBAAZ,EAAkC,KAAK,MAAL,CAAY,KAAZ,CAAkB,MAApD;AACA,aAAO,KAAK,MAAL,CAAY,KAAZ,CAAkB,MAAlB,CAAyB,KAAhC;AACD,KAbO;AAcR,IAAA,eAdQ,6BAcW;AAAA;;AACjB,aAAO,KAAK,SAAL,CAAe,MAAf,CAAsB,UAAA,KAAI;AAAA,eAAK,KAAK,CAAC,YAAN,KAAuB,MAAI,CAAC,EAAjC;AAAA,OAA1B,CAAP;AACF;AAhBQ,GA9BG,CAgDb;AACA;AACA;;AAlDa,CAAf","sourcesContent":["<template>\n  <div class=\"discussion-page\">\n    <header>\n      <div class=\"word-title\">\n        {{ discussion.word }}\n      </div>\n    </header>\n\n    <div class=\"container\">\n      <div v-if=\"discussion\" class= \"discussion\">\n        <DiscussionCard :discussion=\"discussion\"/>\n      </div>\n      <div v-else class=\"no-discussions\">Error, this discussion does not exist anymore</div>\n      <div v-if=\"pertinentScoops\" class=\"the-scoops\">\n        <div v-for=\"scoop in pertinentScoops\" :key=\"scoop.id\" class=\"scoops-list\">\n          <ScoopCard :scoop=\"scoop\"/>\n        </div>\n      </div>\n      <div v-if=\"pertinentScoops.length == 0\" class=\"no-scoops\">\n        <h3>No Scoops yet!</h3>\n        <h4>Do you have information about this word's origins to share?</h4>\n      </div>   \n      <br>\n      <button>\n        <router-link :to=\"{name: 'ScoopNew', params: {id: this.id}}\">\n        <h4> Add a Scoop</h4>  \n        </router-link>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DiscussionCard from '@/components/DiscussionCard'\nimport ScoopCard from '@/components/ScoopCard'\nimport { findById } from '@/helpers'\n// import { mapActions } from 'vuex'\nexport default {\n  components: { DiscussionCard, ScoopCard },\n  props: {\n    id : {\n      required: true,\n      type: String\n    }\n  },\n  beforeCreate () {\n    console.log('receiving this id as prop: ', this.id)\n  },\n  async created () {\n    // fetch the discussion\n    const discussion = await this.$store.dispatch('discussions/fetchDiscussion', { id: this.id })\n    console.log('discussion as fetched in DiscussionPage: ', discussion)\n    this.$emit('ready')\n    // fetch scoops\n    const scoops = await this.$store.dispatch('scoops/fetchScoops', { ids: discussion.scoops })\n    // PENDING -- this raises exception when discussion has no scoops\n\n    // fetch discussion author\n    console.log('fetching user of id: ', this.id)\n    this.$store.dispatch('fetchUser', { discussionId: this.id })\n\n    // fetch users associated with the scoops\n    let usersIds = scoops.map(scoop => scoop.userId)\n    // const discussionUserId = discussion.usersIds\n    // usersIds.push(discussionUserId) UNNECESSARY SINCE WE DO GET DISCUSSION AUTHOR ABOVE\n    this.$store.dispatch('fetchUsers', { ids: usersIds })\n  },\n  computed: {\n    discussions () {\n      // this is probably stupid because we fetch only one discussion\n      // Is this two computed process just a way to get the discussion out of the array????\n      return this.$store.state.discussions.items\n    },\n    discussion () {\n      console.log('discussions.items: ', this.discussions)\n      return findById(this.discussions, this.id)\n    },\n    allScoops () {\n      console.log('the scoops.items: ', this.$store.state.scoops)\n      return this.$store.state.scoops.items\n    },\n    pertinentScoops () {\n      return this.allScoops.filter(scoop => scoop.discussionId === this.id)\n    }\n  }\n  // methods: {\n  //   ...mapActions('users', ['fetchUsers'])\n  // }\n}\n</script>\n\n<style scoped>\n\n.discussion-page {\n  padding-right: 15%;\n  padding-left: 15%;\n}\n\n.word-title {\n   left: 0;\n   font-size:3em;\n   color: #58f0cd;\n   margin: none;\n   padding: 0.2em;\n   padding-left: 0.5em;\n }\n\n.svg-icon {\n  width: 1.5em;\n  height: 1.5em;\n  padding: none;\n  margin: none;\n  margin-left: 0.2em;\n  margin-top: 0.3em;\n}\n\n.svg-icon path,\n.svg-icon polygon,\n.svg-icon rect {\n  fill: #13bbe0;\n}\n\n.svg-icon circle {\n  stroke: #13bbe0;\n  stroke-width: 1;\n}\n\n.container {\n  width: 100%;\n}\n\n.discussion {\n  background-color: rgb(20, 115, 128);\n  color: white;\n  margin: 0.2em;\n  padding: 1em;\n  border-radius: 1em;\n}\n\n.scoops-list {\n  background-color: rgb(123, 226, 240);\n  margin: 0.2em;\n  padding: 1em;\n  border-radius: 1em;\n}\n</style>"],"sourceRoot":""}]}
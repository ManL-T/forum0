{"remainingRequest":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/thread-loader/dist/cjs.js!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/babel-loader/lib/index.js!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue?vue&type=template&id=0eeb08d6&scoped=true","dependencies":[{"path":"/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue","mtime":1643187003969},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/babel.config.js","mtime":1640544182000},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js","mtime":1643186739485},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/thread-loader/dist/cjs.js","mtime":1643186739453},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/babel-loader/lib/index.js","mtime":1643186739974},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1643186740268},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js","mtime":1643186739485},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/index.js","mtime":1643186739950}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoU2NvcGVJZCA9IGZ1bmN0aW9uIF93aXRoU2NvcGVJZChuKSB7CiAgcmV0dXJuIF9wdXNoU2NvcGVJZCgiZGF0YS12LTBlZWIwOGQ2IiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG47Cn07Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImRpc2N1c3Npb24tcGFnZSIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJiYWNrLWhvbWUiCn07Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3ZnIiwgewogICAgY2xhc3M6ICJzdmctaWNvbiIsCiAgICB2aWV3Qm94OiAiMCAwIDIwIDIwIgogIH0sIFsvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgicGF0aCIsIHsKICAgIGZpbGw6ICJub25lIiwKICAgIGQ6ICJNOC4zODgsMTAuMDQ5bDQuNzYtNC44NzNjMC4zMDMtMC4zMSwwLjI5Ny0wLjgwNC0wLjAxMi0xLjEwNWMtMC4zMDktMC4zMDQtMC44MDMtMC4yOTMtMS4xMDUsMC4wMTJMNi43MjYsOS41MTZjLTAuMzAzLDAuMzEtMC4yOTYsMC44MDUsMC4wMTIsMS4xMDVsNS40MzMsNS4zMDdjMC4xNTIsMC4xNDgsMC4zNSwwLjIyMywwLjU0NywwLjIyM2MwLjIwMywwLDAuNDA2LTAuMDgsMC41NTktMC4yMzZjMC4zMDMtMC4zMDksMC4yOTUtMC44MDMtMC4wMTItMS4xMDRMOC4zODgsMTAuMDQ5eiIKICB9KV0sIC0xKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImNvbnRhaW5lciIKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZGlzY3Vzc2lvbiIKfTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAga2V5OiAxLAogIGNsYXNzOiAibm8tZGlzY3Vzc2lvbnMiCn07CnZhciBfaG9pc3RlZF83ID0gewogIGtleTogMiwKICBjbGFzczogInRoZS1zY29vcHMiCn07CnZhciBfaG9pc3RlZF84ID0gewogIGtleTogMywKICBjbGFzczogIm5vLXNjb29wcyIKfTsKCnZhciBfaG9pc3RlZF85ID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZChmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJoMyIsIG51bGwsICJObyBTY29vcHMgeWV0ISIsIC0xKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfMTAgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImg0IiwgbnVsbCwgIkRvIHlvdSBoYXZlIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgd29yZCdzIG9yaWdpbnMgdG8gc2hhcmU/IiwgLTEpOwp9KTsKCnZhciBfaG9pc3RlZF8xMSA9IFtfaG9pc3RlZF85LCBfaG9pc3RlZF8xMF07Cgp2YXIgX2hvaXN0ZWRfMTIgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImJyIiwgbnVsbCwgbnVsbCwgLTEpOwp9KTsKCnZhciBfaG9pc3RlZF8xMyA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDQiLCBudWxsLCAiIEFkZCBhIFNjb29wIiwgLTEpOwp9KTsKCmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfcm91dGVyX2xpbmsgPSBfcmVzb2x2ZUNvbXBvbmVudCgicm91dGVyLWxpbmsiKTsKCiAgdmFyIF9jb21wb25lbnRfRGlzY3Vzc2lvbkNhcmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRGlzY3Vzc2lvbkNhcmQiKTsKCiAgdmFyIF9jb21wb25lbnRfU2Nvb3BDYXJkID0gX3Jlc29sdmVDb21wb25lbnQoIlNjb29wQ2FyZCIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3JvdXRlcl9saW5rLCB7CiAgICB0bzogewogICAgICBuYW1lOiAnSG9tZScKICAgIH0KICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfM107CiAgICB9KSwKICAgIF86IDEKICB9KV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbJG9wdGlvbnMuZGlzY3Vzc2lvbiA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzUsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9EaXNjdXNzaW9uQ2FyZCwgewogICAgZGlzY3Vzc2lvbjogJG9wdGlvbnMuZGlzY3Vzc2lvbgogIH0sIG51bGwsIDgsIFsiZGlzY3Vzc2lvbiJdKV0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzYsICJFcnJvciwgdGhpcyBkaXNjdXNzaW9uIGRvZXMgbm90IGV4aXN0IGFueW1vcmUiKSksICRvcHRpb25zLnBlcnRpbmVudFNjb29wcyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzcsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRvcHRpb25zLnBlcnRpbmVudFNjb29wcywgZnVuY3Rpb24gKHNjb29wKSB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgIGtleTogc2Nvb3AuaWQsCiAgICAgIGNsYXNzOiAic2Nvb3BzLWxpc3QiCiAgICB9LCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfU2Nvb3BDYXJkLCB7CiAgICAgIHNjb29wOiBzY29vcAogICAgfSwgbnVsbCwgOCwgWyJzY29vcCJdKV0pOwogIH0pLCAxMjgpKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLCAkb3B0aW9ucy5wZXJ0aW5lbnRTY29vcHMubGVuZ3RoID09IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF84LCBfaG9pc3RlZF8xMSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksIF9ob2lzdGVkXzEyLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJidXR0b24iLCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcm91dGVyX2xpbmssIHsKICAgIHRvOiB7CiAgICAgIG5hbWU6ICdTY29vcE5ldycsCiAgICAgIHBhcmFtczogewogICAgICAgIGlkOiB0aGlzLmlkCiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2hvaXN0ZWRfMTNdOwogICAgfSksCiAgICBfOiAxCiAgfSwgOCwgWyJ0byJdKV0pXSldKTsKfQ=="},{"version":3,"sources":["/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue"],"names":[],"mappings":";;;;;;;AACO,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;;sBAEP,mBAAA,CACoT,KADpT,EACoT;AAD/S,IAAA,KAAK,EAAC,UACyS;AAD9R,IAAA,OAAO,EAAC;AACsR,GADpT,E,cACA,mBAAA,CAA8S,MAA9S,EAA8S;AAAxS,IAAA,IAAI,EAAC,MAAmS;AAA5R,IAAA,CAAC,EAAC;AAA0R,GAA9S,C,CADA,E,EAAA,C;;;;AAIC,EAAA,KAAK,EAAC;;;;AACc,EAAA,KAAK,EAAE;;;;AAGlB,EAAA,KAAK,EAAC;;;;AACU,EAAA,KAAK,EAAC;;;;AAKM,EAAA,KAAK,EAAC;;;;sBAC5C,mBAAA,CAAuB,IAAvB,EAAuB,IAAvB,EAAI,gBAAJ,EAAkB,CAAA,CAAlB,C;;;;sBACA,mBAAA,CAAoE,IAApE,EAAoE,IAApE,EAAI,6DAAJ,EAA+D,CAAA,CAA/D,C;;;mBADA,U,EACA,W;;;sBAEF,mBAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA,CAAJ,C;;;;sBAGE,mBAAA,CAAqB,IAArB,EAAqB,IAArB,EAAI,cAAJ,EAAgB,CAAA,CAAhB,C;;;;;;;;;;uBAxBN,mBAAA,CA4BM,KA5BN,EAAA,UAAA,EA4BM,CA3BJ,mBAAA,CAKM,KALN,EAAA,UAAA,EAKM,CAJJ,YAAA,CAGc,sBAHd,EAGc;AAHA,IAAA,EAAE,EAAE;AAAA,MAAA,IAAA,EAAA;AAAA;AAGJ,GAHd,EAAgC;sBAC9B;AAAA,aACoT,CADpT,UACoT,CADpT;AAAA,K,CAD8B;;AAAA,GAAhC,CAII,CALN,CA2BI,EArBJ,mBAAA,CAoBM,KApBN,EAAA,UAAA,EAoBM,CAnBO,QAAA,CAAA,U,kBAAX,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADJ,YAAA,CAA0C,yBAA1C,EAA0C;AAAzB,IAAA,UAAU,EAAE,QAAA,CAAA;AAAa,GAA1C,EAAuC,IAAvC,EAAuC,CAAvC,EAAuC,CAAA,YAAA,CAAvC,CACI,CAFN,C,mBAGA,mBAAA,CAAsF,KAAtF,EAAA,UAAA,EAAmC,+CAAnC,C,CAgBI,EAfO,QAAA,CAAA,e,kBAAX,mBAAA,CAIM,KAJN,EAAA,UAAA,EAIM,E,kBAHJ,mBAAA,CAEM,SAFN,EAEM,IAFN,EAEM,WAAA,CAFe,QAAA,CAAA,eAEf,EAF8B,UAAxB,KAAwB,EAAnB;yBAAjB,mBAAA,CAEM,KAFN,EAEM;AAFiC,MAAA,GAAG,EAAE,KAAK,CAAC,EAE5C;AAFgD,MAAA,KAAK,EAAC;AAEtD,KAFN,E,CACE,YAAA,CAA2B,oBAA3B,EAA2B;AAAf,MAAA,KAAK,EAAE;AAAQ,KAA3B,EAAwB,IAAxB,EAAwB,CAAxB,EAAwB,CAAA,OAAA,CAAxB,C,CADF,C;GAEM,CAFN,E,GAAA,CAGI,EAJN,C,iCAeI,EAVO,QAAA,CAAA,eAAA,CAAgB,MAAhB,IAAsB,C,kBAAjC,mBAAA,CAGM,KAHN,EAAA,UAAA,EAGM,WAHN,C,iCAUI,EANJ,WAMI,EALJ,mBAAA,CAIS,QAJT,EAIS,IAJT,EAIS,CAHP,YAAA,CAEc,sBAFd,EAEc;AAFA,IAAA,EAAE,EAAA;AAAA,MAAA,IAAA,EAAA,UAAA;AAAA,MAAA,MAAA,EAAA;AAAA,QAAA,EAAA,EAAA,KAAuC;AAAvC;AAAA;AAEF,GAFd,E;sBACA;AAAA,aAAqB,CAArB,WAAqB,CAArB;AAAA,K;;GADA,E,CAAA,E,MAAA,CAGO,CAJT,CAKI,CApBN,CAqBI,CA5BN,C","sourcesContent":["<template>\n  <div class=\"discussion-page\">\n    <div class=\"back-home\">\n      <router-link :to=\"{name: 'Home'}\">\n        <svg class=\"svg-icon\" viewBox=\"0 0 20 20\">\n        <path fill=\"none\" d=\"M8.388,10.049l4.76-4.873c0.303-0.31,0.297-0.804-0.012-1.105c-0.309-0.304-0.803-0.293-1.105,0.012L6.726,9.516c-0.303,0.31-0.296,0.805,0.012,1.105l5.433,5.307c0.152,0.148,0.35,0.223,0.547,0.223c0.203,0,0.406-0.08,0.559-0.236c0.303-0.309,0.295-0.803-0.012-1.104L8.388,10.049z\"></path></svg>\n      </router-link>\n    </div>\n    <div class=\"container\">\n      <div v-if=\"discussion\" class= \"discussion\">\n        <DiscussionCard :discussion=\"discussion\"/>\n      </div>\n      <div v-else class=\"no-discussions\">Error, this discussion does not exist anymore</div>\n      <div v-if=\"pertinentScoops\" class=\"the-scoops\">\n        <div v-for=\"scoop in pertinentScoops\" :key=\"scoop.id\" class=\"scoops-list\">\n          <ScoopCard :scoop=\"scoop\"/>\n        </div>\n      </div>\n      <div v-if=\"pertinentScoops.length == 0\" class=\"no-scoops\">\n        <h3>No Scoops yet!</h3>\n        <h4>Do you have information about this word's origins to share?</h4>\n      </div>   \n      <br>\n      <button>\n        <router-link :to=\"{name: 'ScoopNew', params: {id: this.id}}\">\n        <h4> Add a Scoop</h4>  \n        </router-link>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DiscussionCard from '@/components/DiscussionCard'\nimport ScoopCard from '@/components/ScoopCard'\nimport { findById } from '@/helpers'\n// import { mapActions } from 'vuex'\nexport default {\n  components: { DiscussionCard, ScoopCard },\n  props: {\n    id : {\n      required: true,\n      type: String\n    }\n  },\n  beforeCreate () {\n    console.log('receiving this id as prop: ', this.id)\n  },\n  async created () {\n    // fetch the discussion\n    const discussion = await this.$store.dispatch('discussions/fetchDiscussion', { id: this.id })\n    console.log('discussion as fetched in DiscussionPage: ', discussion)\n    this.$emit('ready')\n    // fetch scoops\n    const scoops = await this.$store.dispatch('scoops/fetchScoops', { ids: discussion.scoops })\n    // PENDING -- this raises exception when discussion has no scoops\n\n    // fetch discussion author\n    console.log('fetching user of id: ', this.id)\n    this.$store.dispatch('fetchUser', { discussionId: this.id })\n\n    // fetch users associated with the scoops\n    let usersIds = scoops.map(scoop => scoop.userId)\n    // const discussionUserId = discussion.usersIds\n    // usersIds.push(discussionUserId) UNNECESSARY SINCE WE DO GET DISCUSSION AUTHOR ABOVE\n    this.$store.dispatch('fetchUsers', { ids: usersIds })\n  },\n  computed: {\n    discussions () {\n      // this is probably stupid because we fetch only one discussion\n      // Is this two computed process just a way to get the discussion out of the array????\n      return this.$store.state.discussions.items\n    },\n    discussion () {\n      console.log('discussions.items: ', this.discussions)\n      return findById(this.discussions, this.id)\n    },\n    allScoops () {\n      console.log('the scoops.items: ', this.$store.state.scoops)\n      return this.$store.state.scoops.items\n    },\n    pertinentScoops () {\n      return this.allScoops.filter(scoop => scoop.discussionId === this.id)\n    }\n  }\n  // methods: {\n  //   ...mapActions('users', ['fetchUsers'])\n  // }\n}\n</script>\n\n<style scoped>\n\n.discussion-page {\n  width: 100%;\n  display: grid;\n  grid-template-columns: 0.5fr 5.5fr;\n}\n\n.svg-icon {\n  /* background-color: aquamarine; */\n  width: 3em;\n  height: 3em;\n  padding: 0.1em;\n  margin-left: 0.2em;\n  margin-top: 0.3em;\n  border-radius: 10px;\n  border: none;\n}\n\n.svg-icon path,\n.svg-icon polygon,\n.svg-icon rect {\n  fill: #13bbe0;\n}\n\n.svg-icon circle {\n  stroke: #13bbe0;\n  stroke-width: 1;\n}\n\n\n.discussion {\n  background-color: rgb(20, 115, 128);\n  color: white;\n  margin: 0.2em;\n  padding: 1em;\n  border-radius: 1em;\n}\n\n.scoops-list {\n  background-color: rgb(123, 226, 240);\n  margin: 1em;\n  padding: 1em;\n  border-radius: 1em;\n}\n</style>"],"sourceRoot":""}]}
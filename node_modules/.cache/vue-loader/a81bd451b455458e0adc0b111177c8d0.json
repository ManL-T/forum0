{"remainingRequest":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue?vue&type=style&index=0&id=e233520a&scoped=true&lang=css","dependencies":[{"path":"/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue","mtime":1643644273785},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/css-loader/dist/cjs.js","mtime":1643186739784},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1643186740256},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/postcss-loader/src/index.js","mtime":1643186739958},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/cache-loader/dist/cjs.js","mtime":1643186739485},{"path":"/home/mnl33/code/vue-forum/Forum-MVP/node_modules/vue-loader-v16/dist/index.js","mtime":1643186739950}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgouZGlzY3Vzc2lvbi1wYWdlIHsKICBwYWRkaW5nLXJpZ2h0OiAxNSU7CiAgcGFkZGluZy1sZWZ0OiAxNSU7Cn0KCmhlYWRlciB7CiAgbWFyZ2luOiBub25lOwogIHBhZGRpbmc6IG5vbmU7CiAgYm9yZGVyOiBub25lOwp9Cgoud29yZC10aXRsZSB7CiAgbWFyZ2luOiBub25lOwogIHBhZGRpbmc6IG5vbmU7CiAgYm9yZGVyOiBub25lOwogfQoKaDEgewogIGZvbnQtc2l6ZToxLjVlbTsKICBjb2xvcjogIzU4ZjBjZDsKICBtYXJnaW46IG5vbmU7CiAgcGFkZGluZzogbm9uZTsKICBib3JkZXI6IG5vbmU7CiAgcGFkZGluZy1sZWZ0OiAwLjVlbTsKfQoKLmNvbnRhaW5lciB7CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luOiBub25lOwogIHBhZGRpbmc6IG5vbmU7CiAgYm9yZGVyOiBub25lOwp9CgouZGlzY3Vzc2lvbiB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzdkYmZjYzsKICBjb2xvcjogIzA0MjgyMDsKICBtYXJnaW46IG5vbmU7CiAgcGFkZGluZzogMC41ZW07CiAgYm9yZGVyLXJhZGl1czogOHB4IDhweCAwcHggMHB4Owp9Cgouc2Nvb3BzLWxpc3QgewogIGJhY2tncm91bmQtY29sb3I6IHJnYigxMjMsIDIyNiwgMjQwKTsKICBtYXJnaW46IG5vbmU7CiAgbWFyZ2luLXRvcDogNXB4OwogIHBhZGRpbmc6IDI1cHg7CiAgLyogYm9yZGVyLXJhZGl1czogMWVtOyAqLwp9Cg=="},{"version":3,"sources":["/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue"],"names":[],"mappings":";;AAmGA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACnB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACd;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CACb;;AAED,CAAC,EAAE;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACrB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACT,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACd;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAChC;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;AAC1B","file":"/home/mnl33/code/vue-forum/Forum-MVP/src/pages/DiscussionPage.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"discussion-page\">\n    <header>\n      <!-- <div class=\"word-title\"> -->\n        <h1>{{ discussion.word }}</h1>\n      <!-- </div> -->\n    </header>\n\n    <div class=\"container\">\n      <div v-if=\"discussion\" class= \"discussion\">\n        <DiscussionCard :discussion=\"discussion\" :discussionAuthor=\"discussionAuthor\"/>\n      </div>\n      <div v-else class=\"no-discussions\">Error, this discussion does not exist anymore</div>\n      <div v-if=\"pertinentScoops\" class=\"the-scoops\">\n        <div v-for=\"scoop in pertinentScoops\" :key=\"scoop.id\" class=\"scoops-list\">\n          <ScoopCard :scoop=\"scoop\" :scoopsAuthors=\"scoopsAuthors\"/>\n        </div>\n      </div>\n      <div v-if=\"pertinentScoops.length == 0\" class=\"no-scoops\">\n        <h3>No Scoops yet!</h3>\n        <h4>Do you have information about this word's origins to share?</h4>\n      </div>   \n      <br>\n      <button>\n        <router-link :to=\"{name: 'ScoopNew', params: {id: this.id}}\">\n        <h4> Add a Scoop</h4>  \n        </router-link>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DiscussionCard from '@/components/DiscussionCard'\nimport ScoopCard from '@/components/ScoopCard'\nimport { findById } from '@/helpers'\n// import { mapActions } from 'vuex'\nexport default {\n  components: { DiscussionCard, ScoopCard },\n  props: {\n    id : {\n      required: true,\n      type: String\n    }\n  },\n  beforeCreate () {\n    console.log('receiving this id as prop: ', this.id)\n  },\n  async created () {\n    // fetch the discussion\n    const discussion = await this.$store.dispatch('discussions/fetchDiscussion', { id: this.id })\n    console.log('discussion as fetched in DiscussionPage: ', discussion)\n    this.$emit('ready')\n    // fetch scoops\n    const scoops = await this.$store.dispatch('scoops/fetchScoops', { ids: discussion.scoops })\n    // PENDING -- this raises exception when discussion has no scoops\n\n    // fetch discussion author\n    console.log('fetching user of id: ', this.id)\n    this.$store.dispatch('fetchUser', { discussionId: this.id })\n\n    // fetch users associated with the scoops\n    let usersIds = scoops.map(scoop => scoop.userId)\n    // const discussionUserId = discussion.usersIds\n    // usersIds.push(discussionUserId) UNNECESSARY SINCE WE DO GET DISCUSSION AUTHOR ABOVE\n    this.$store.dispatch('fetchUsers', { ids: usersIds })\n  },\n  computed: {\n    discussions () {\n      // this is probably stupid because we fetch only one discussion\n      // Is this two computed process just a way to get the discussion out of the array????\n      return this.$store.state.discussions.items\n    },\n    discussion () {\n      console.log('discussions.items: ', this.discussions)\n      return findById(this.discussions, this.id)\n    },\n    allScoops () {\n      console.log('the scoops.items: ', this.$store.state.scoops)\n      return this.$store.state.scoops.items\n    },\n    pertinentScoops () {\n      return this.allScoops.filter(scoop => scoop.discussionId === this.id)\n    },\n    discussionAuthor () {\n      return findById(this.$store.state.users.items, this.discussion.userId)\n    },\n    scoopsAuthors () {\n      return this.$store.state.users.items\n    }\n  }\n  // methods: {\n  //   ...mapActions('users', ['fetchUsers'])\n  // }\n}\n</script>\n\n<style scoped>\n\n.discussion-page {\n  padding-right: 15%;\n  padding-left: 15%;\n}\n\nheader {\n  margin: none;\n  padding: none;\n  border: none;\n}\n\n.word-title {\n  margin: none;\n  padding: none;\n  border: none;\n }\n\nh1 {\n  font-size:1.5em;\n  color: #58f0cd;\n  margin: none;\n  padding: none;\n  border: none;\n  padding-left: 0.5em;\n}\n\n.container {\n  width: 100%;\n  margin: none;\n  padding: none;\n  border: none;\n}\n\n.discussion {\n  background-color: #7dbfcc;\n  color: #042820;\n  margin: none;\n  padding: 0.5em;\n  border-radius: 8px 8px 0px 0px;\n}\n\n.scoops-list {\n  background-color: rgb(123, 226, 240);\n  margin: none;\n  margin-top: 5px;\n  padding: 25px;\n  /* border-radius: 1em; */\n}\n</style>"]}]}